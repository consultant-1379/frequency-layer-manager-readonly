name,alias,expression,object_type,aggregation_type,aggregation_period,calculation_frequency,aggregation_elements,is_visible,filter
achievable_throughput_dist,cell_guid,"FIRST(CASE WHEN cell_guid.interim_kpi_prbs_and_elements_per_user IS NULL THEN NULL ELSE TRANSFORM(array(0.152, 0.234, 0.377, 0.602, 0.877, 1.176, 1.477, 1.914, 2.406, 2.730, 3.322, 3.902, 4.523, 5.115, 5.555, 0.305, 0.469, 0.754, 1.203, 1.754, 2.352, 2.953, 3.828, 4.812, 5.461, 6.645, 7.805, 9.047, 10.230, 11.109), x -> x * cell_guid.interim_kpi_prbs_and_elements_per_user) END) FROM kpi://cell_guid",FLOAT[30],FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
achievable_throughput_indicator_array,cell_guid_flm,"FIRST(TRANSFORM(kpi_cell_guid_60.achievable_throughput_dist,  x -> if (x < cell_guid_flm.target_throughput_r, 1, 0))) FROM kpi_db://kpi_cell_guid_60 inner join kpi://cell_guid_flm on kpi_cell_guid_60.fdn = cell_guid_flm.fdn AND kpi_cell_guid_60.oss_id = cell_guid_flm.oss_id",FLOAT[30],FIRST,60,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.fdn,kpi_cell_guid_60.oss_id,cell_guid_flm.execution_id},false,{"kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')"}
active_ues_dl,cell_guid,FIRST(cell_guid.ca_adjustment_factor) * FIRST(cell_guid.sum_active_ues_in_dl_per_no_of_rops) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
active_ues_mbb,cell_guid,FIRST(CASE WHEN (cell_guid.active_ues_dl) < (cell_guid.active_ues_volte_dl) THEN (cell_guid.active_ues_dl) ELSE (cell_guid.active_ues_dl) - (cell_guid.active_ues_volte_dl) END) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
active_ues_volte_dl,cell_guid,FIRST(cell_guid.num_active_ue_dl_sum_qci) / FIRST(cell_guid.qci_samples_per_rop) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
available_prbs,cell_guid,FIRST(cell_guid.dlprbstot) - FIRST(cell_guid.volteprbsdl) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
available_prbs_per_user,cell_guid,FIRST(cell_guid.available_prbs) / (1 + FIRST(cell_guid.active_ues_mbb)) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
bandwidth,cell_guid,cell.bandwidth FROM cm://cell,INTEGER,FIRST,60,0 30 0/1 * * ? *,{"cell.id as guid",cell.oss_id,cell.fdn},false,{}
bin_q1,cell_guid,"CALCULATE_BIN(FIRST(cell_guid.distance_q4, true) * 0.25) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},false,{}
bin_q2,cell_guid,"CALCULATE_BIN(FIRST(cell_guid.distance_q4, true) * 0.5) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},false,{}
bin_q3,cell_guid,"CALCULATE_BIN(FIRST(cell_guid.distance_q4, true) * 0.75) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},false,{}
bin_q4,cell_guid,"CALCULATE_BIN(FIRST(cell_guid.distance_q4, true)) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},false,{}
ca_adjustment_factor,cell_guid,"FIRST(CASE WHEN cell_guid.mac_level_data_vol_dl_rate IS NOT NULL THEN LEAST(5, cell_guid.mac_level_data_vol_dl_rate) ELSE NULL END) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
cce_per_subframe,cell_guid,"FIRST(CCES_PER_SUBFRAME(cell_guid.no_of_trx_points, cell_guid.bandwidth, cell_guid.pdcch_cfi_mode), true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
cell_availability,cell_guid,"100 * (96 * 900 - FIRST( kpi_cell_guid_1440.pm_cell_downtime_auto_daily, true ) - FIRST( kpi_cell_guid_1440.pm_cell_downtime_man_daily, true )) / (96 * 900) FROM kpi_db://kpi_cell_guid_1440",FLOAT,FIRST,1440,,{kpi_cell_guid_1440.guid,kpi_cell_guid_1440.oss_id,kpi_cell_guid_1440.fdn},false,{"kpi_db://kpi_cell_guid_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
kpi_cell_reliability_daily,cell_guid,count(kpi_cell_guid_60.local_timestamp) FROM kpi_db://kpi_cell_guid_60,INTEGER,SUM,1440,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn},false,{"kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')"}
cgi,cell_guid,cell.cgi FROM cm://cell,STRING,FIRST,1440,0 0/15 * * * ? *,{"cell.id as guid",cell.oss_id,cell.fdn},false,{}
contiguity,cell_guid,100 * (SUM(relation_guid_source_guid_target_guid.out_succ_ho_intraf)) / (SUM(relation_guid_source_guid_target_guid.out_succ_ho_intraf) + SUM(relation_guid_source_guid_target_guid.out_succ_ho_interf)) FROM kpi_post_agg://relation_guid_source_guid_target_guid WHERE relation_guid_source_guid_target_guid.intra_site = false OR relation_guid_source_guid_target_guid.intra_site IS NULL,FLOAT,FIRST,1440,0 0/15 * * * ? *,{"relation_guid_source_guid_target_guid.source_guid as guid",relation_guid_source_guid_target_guid.oss_id,"relation_guid_source_guid_target_guid.source_fdn as fdn"},true,{}
counter_cell_reliability_hourly,cell_guid,count(counters_cell.fdn) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.fdn,counters_cell.oss_id},true,{}
counter_cell_reliability_daily,cell_guid,count(counters_cell.fdn) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.fdn,counters_cell.oss_id},true,{}
synthetic_counter_cell_reliability_daily,cell_guid,count(synthetic_counters_cell.fdn) FROM pm_events://synthetic_counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{synthetic_counters_cell.guid,synthetic_counters_cell.fdn,synthetic_counters_cell.oss_id},true,{}
coverage_balance_distance,cell_sector,"FIRST( CALCULATE_PERCENTILE_DISTANCE(kpi_cell_guid_1440.num_samples_ta, 90), true ) FROM kpi_db://kpi_cell_guid_1440 inner join cm://cell_sector on kpi_cell_guid_1440.oss_id = cell_sector.cell_oss_id AND kpi_cell_guid_1440.fdn = cell_sector.cell_fdn",FLOAT,FIRST,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_fdn,cell_sector.cell_oss_id},false,{"kpi_db://kpi_cell_guid_1440.TO_DATE(local_timestamp) = TO_TIMESTAMP('${param.start_date_time}')"}
coverage_balance_distance_bin,cell_sector,PERCENTILE_INDEX_90(kpi_cell_guid_1440.num_samples_ta) FROM kpi_db://kpi_cell_guid_1440 inner join cm://cell_sector on kpi_cell_guid_1440.oss_id = cell_sector.cell_oss_id AND kpi_cell_guid_1440.fdn = cell_sector.cell_fdn,INTEGER,PERCENTILE_INDEX_90,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_fdn,cell_sector.cell_oss_id},false,{"kpi_db://kpi_cell_guid_1440.TO_DATE(local_timestamp) = TO_TIMESTAMP('${param.start_date_time}')"}
coverage_balance_distance_reference,cell_sector,"FIRST( estimated_cells.coverage_balance_distance, true ) FROM kpi_db://kpi_cell_sector_1440 left join kpi_db://kpi_cell_sector_1440 AS estimated_cells where kpi_cell_sector_1440.reference_cell = estimated_cells.cell_fdn",FLOAT,FIRST,1440,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
coverage_balance_distance_reference_bin,cell_sector,"FIRST( estimated_cells.coverage_balance_distance_bin, true ) FROM kpi_db://kpi_cell_sector_1440 left join kpi_db://kpi_cell_sector_1440 AS estimated_cells where kpi_cell_sector_1440.reference_cell = estimated_cells.cell_fdn",INTEGER,FIRST,1440,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
coverage_balance_ratio_distance,cell_sector,"100 * FIRST( kpi_cell_sector_1440.coverage_balance_distance, true ) / FIRST( kpi_cell_sector_1440.coverage_balance_distance_reference, true ) FROM kpi_db://kpi_cell_sector_1440",FLOAT,FIRST,1440,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},true,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
coverage_balance_ratio_signal,cell_sector,"100 * FIRST( cell_sector.percentage_bad_rsrp_samples_reference, true ) / FIRST( cell_sector.percentage_bad_rsrp_samples_candidate, true ) FROM kpi://cell_sector",FLOAT,FIRST,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_oss_id,cell_sector.cell_fdn},true,{}
coverage_balance_signal_index,cell_sector,"FIRST(CALCULATE_PERCENTILE_BIN(kpi_cell_guid_1440.num_samples_ta, 80), true) FROM kpi_db://kpi_cell_guid_1440 inner join cm://cell_sector on kpi_cell_guid_1440.oss_id = cell_sector.cell_oss_id AND kpi_cell_guid_1440.fdn = cell_sector.cell_fdn",FLOAT,FIRST,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_fdn,cell_sector.cell_oss_id},false,{"kpi_db://kpi_cell_guid_1440.TO_DATE(local_timestamp) = TO_TIMESTAMP('${param.start_date_time}')"}
coverage_balance_signal_range_calculation_time,cell_sector,TO_TIMESTAMP('${param.current_date}') FROM kpi_db://kpi_cell_sector_1440 LEFT JOIN kpi_db://kpi_cell_sector ON kpi_cell_sector_1440.cell_fdn = kpi_cell_sector.cell_fdn AND kpi_cell_sector_1440.cell_oss_id = kpi_cell_sector.cell_oss_id AND kpi_cell_sector_1440.sector_id = kpi_cell_sector.sector_id WHERE kpi_cell_sector.coverage_balance_signal_range_calculation_time < TO_TIMESTAMP('${param.recalculation_date}') OR kpi_cell_sector.coverage_balance_signal_range_calculation_time IS NULL ${param.sectors_for_signal_range_recalculation},TIMESTAMP,FIRST,-1,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
coverage_balance_signal_range_lower_index,cell_sector,"FIRST(least(kpi_cell_sector_1440.coverage_balance_signal_index, kpi_cell_sector_1440.coverage_balance_signal_reference_index), true) FROM kpi_db://kpi_cell_sector_1440 LEFT JOIN kpi_db://kpi_cell_sector ON kpi_cell_sector_1440.cell_fdn = kpi_cell_sector.cell_fdn AND kpi_cell_sector_1440.cell_oss_id = kpi_cell_sector.cell_oss_id AND kpi_cell_sector_1440.sector_id = kpi_cell_sector.sector_id WHERE kpi_cell_sector.coverage_balance_signal_range_calculation_time < TO_TIMESTAMP('${param.recalculation_date}') OR kpi_cell_sector.coverage_balance_signal_range_calculation_time IS NULL ${param.sectors_for_signal_range_recalculation}",FLOAT,FIRST,-1,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
coverage_balance_signal_range_upper_index,cell_sector,"FIRST(greatest(kpi_cell_sector_1440.coverage_balance_signal_index, kpi_cell_sector_1440.coverage_balance_signal_reference_index), true) FROM kpi_db://kpi_cell_sector_1440 LEFT JOIN kpi_db://kpi_cell_sector ON kpi_cell_sector_1440.cell_oss_id = kpi_cell_sector.cell_oss_id AND kpi_cell_sector_1440.cell_fdn = kpi_cell_sector.cell_fdn AND kpi_cell_sector_1440.sector_id = kpi_cell_sector.sector_id WHERE kpi_cell_sector.coverage_balance_signal_range_calculation_time < TO_TIMESTAMP('${param.recalculation_date}') OR kpi_cell_sector.coverage_balance_signal_range_calculation_time IS NULL ${param.sectors_for_signal_range_recalculation}",FLOAT,FIRST,-1,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
coverage_balance_signal_reference_index,cell_sector,"FIRST(estimated_cells.coverage_balance_signal_index, true) FROM kpi_db://kpi_cell_sector_1440 left join kpi_db://kpi_cell_sector_1440 AS estimated_cells where kpi_cell_sector_1440.reference_cell = estimated_cells.cell_fdn",FLOAT,FIRST,1440,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
cqi,cell_guid,"FIRST(CASE WHEN cell_guid.double_count_factor_radio_tx_rank_distr IS NULL THEN NULL ELSE CONCAT(ZIP_WITH(cell_guid.cqi1 , TRANSFORM(cell_guid.cqi2 , x -> x * cell_guid.double_count_factor_radio_tx_rank_distr), (cqi1Value,cCqi2Value) -> if (cqi1Value-cCqi2Value < 0, 0, cqi1Value-cCqi2Value)),TRANSFORM(cell_guid.cqi2 , x -> x * cell_guid.double_count_factor_radio_tx_rank_distr)) END) FROM kpi://cell_guid",FLOAT[30],FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
cqi1,cell_guid,"ARRAY_INDEX_SUM(slice(counters_cell.pmRadioUeRepCqiDistr, 2, 15)) FROM pm_stats://counters_cell",INTEGER[15],ARRAY_INDEX_SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
cqi2,cell_guid,"ARRAY_INDEX_SUM(slice(counters_cell.pmRadioUeRepCqiDistr2, 2, 15)) FROM pm_stats://counters_cell",INTEGER[15],ARRAY_INDEX_SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
cqi_sum,cell_guid,"FIRST(aggregate(cell_guid.cqi, double(0), (acc, x) -> acc + x)) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
distance_q1,cell_guid,"FIRST(cell_guid.distance_q4, true) * 0.25 FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
distance_q2,cell_guid,"FIRST(cell_guid.distance_q4, true) * 0.5 FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
distance_q3,cell_guid,"FIRST(cell_guid.distance_q4, true) * 0.75 FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
distance_q4,cell_guid,"FIRST(CALCULATE_PERCENTILE_DISTANCE(cell_guid.num_samples_ta_hourly, 99), true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
dlprbstot,cell_guid,FIRST(cell_guid.prb_pairs_available) / FIRST(cell_guid.tti_per_rop) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},false,{}
double_count_factor_radio_tx_rank_distr,cell_guid,(FIRST(cell_guid.radio_tx_rank_distr[2]) + FIRST(cell_guid.radio_tx_rank_distr[4])) / (FIRST(cell_guid.radio_tx_rank_distr[2]) + FIRST(2 * cell_guid.radio_tx_rank_distr[4])) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
freq_band,cell_guid,cell.freqBand FROM cm://cell,INTEGER,FIRST,60,0 30 0/1 * * ? *,{"cell.id as guid",cell.oss_id,cell.fdn},false,{}
interim_kpi_prbs_and_elements_per_user,cell_guid,(1 * 0.9 * FIRST(cell_guid.available_prbs_per_user) * FIRST(cell_guid.resource_elements_per_prb)) / 1000 FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
intra_site,relation_guid_source_guid_target_guid,"FIRST(relation.intraSite, true) FROM cm://relation",BOOLEAN,FIRST,1440,0 0/15 * * * ? *,{"relation.id as guid","relation.source_cell_id as source_guid","relation.target_cell_id as target_guid",relation.oss_id,relation.fdn},false,{}
mac_level_data_vol_dl_rate,cell_guid,SUM(counters_cell.pmRadioThpVolDl) / SUM(counters_cell.pmRadioThpVolDl - counters_cell.pmRadioThpVolDlSCell) FROM pm_stats://counters_cell,FLOAT,FIRST,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
max_coverage_balance_distance,sector,MAX(kpi_cell_sector_1440.coverage_balance_distance) FROM kpi_db://kpi_cell_sector_1440,FLOAT,MAX,-1,,{kpi_cell_sector_1440.sector_id},false,{"kpi_db://kpi_cell_sector_1440.TO_DATE(local_timestamp) = TO_TIMESTAMP('${param.start_date_time}')","${param.sectors_without_ref_cell}"}
no_of_trx_points,cell_guid,MAX(CASE WHEN sectorcarrier.noOfTrxPoints = 0 THEN 2 ELSE sectorcarrier.noOfTrxPoints END) FROM cm://sectorcarrier INNER JOIN cm://cell_sectorcarrier ON sectorcarrier.id = cell_sectorcarrier.sectorcarrier_id,INTEGER,MAX,60,0 30 0/1 * * ? *,{"cell_sectorcarrier.cell_id as guid","cell_sectorcarrier.cell_oss_id as oss_id","cell_sectorcarrier.cell_fdn as fdn"},false,{}
num_active_ue_dl_sum_qci,cell_guid,SUM(counters_cell.pmActiveUeDlSumQci[1] + counters_cell.pmActiveUeDlSumQci[2] + counters_cell.pmActiveUeDlSumQci[5]) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_samples_bad_rsrp_candidate,cell_sector,"FIRST(SUM_ARRAY_SLICE(cell_sector.num_samples_bad_rsrp_ta_candidate, kpi_cell_sector.coverage_balance_signal_range_lower_index, kpi_cell_sector.coverage_balance_signal_range_upper_index), true) FROM kpi://cell_sector inner join kpi_db://kpi_cell_sector on cell_sector.cell_fdn = kpi_cell_sector.cell_fdn AND cell_sector.cell_oss_id = kpi_cell_sector.cell_oss_id AND cell_sector.sector_id = kpi_cell_sector.sector_id",INTEGER,FIRST,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_oss_id,cell_sector.cell_fdn},false,{}
num_samples_bad_rsrp_reference,cell_sector,"FIRST(SUM_ARRAY_SLICE(cell_sector.num_samples_bad_rsrp_ta_reference, kpi_cell_sector.coverage_balance_signal_range_lower_index, kpi_cell_sector.coverage_balance_signal_range_upper_index), true) FROM kpi://cell_sector inner join kpi_db://kpi_cell_sector on cell_sector.cell_fdn = kpi_cell_sector.cell_fdn AND cell_sector.cell_oss_id = kpi_cell_sector.cell_oss_id AND cell_sector.sector_id = kpi_cell_sector.sector_id",INTEGER,FIRST,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_oss_id,cell_sector.cell_fdn},false,{}
num_samples_bad_rsrp_ta,cell_guid,ARRAY_INDEX_SUM(synthetic_counters_cell.ctrNumSamplesBadRsrpTa) FROM pm_events://synthetic_counters_cell,INTEGER[129],ARRAY_INDEX_SUM,1440,0 0/15 * * * ? *,{synthetic_counters_cell.guid,synthetic_counters_cell.fdn,synthetic_counters_cell.oss_id},false,{}
num_samples_bad_rsrp_ta_candidate,cell_sector,"FIRST( kpi_cell_guid_1440.num_samples_bad_rsrp_ta, true ) FROM kpi_db://kpi_cell_sector_1440 inner join kpi_db://kpi_cell_guid_1440 on kpi_cell_sector_1440.cell_fdn = kpi_cell_guid_1440.fdn AND kpi_cell_sector_1440.cell_oss_id = kpi_cell_guid_1440.oss_id",INTEGER[129],FIRST,1440,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')","kpi_db://kpi_cell_guid_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
num_samples_bad_rsrp_ta_reference,cell_sector,"FIRST( kpi_cell_guid_1440.num_samples_bad_rsrp_ta, true ) FROM kpi_db://kpi_cell_sector_1440 inner join kpi_db://kpi_cell_guid_1440 on kpi_cell_sector_1440.reference_cell = kpi_cell_guid_1440.fdn AND kpi_cell_sector_1440.cell_oss_id = kpi_cell_guid_1440.oss_id",INTEGER[129],FIRST,1440,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')","kpi_db://kpi_cell_guid_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
num_samples_rsrp_candidate,cell_sector,"FIRST(SUM_ARRAY_SLICE(cell_sector.num_samples_rsrp_ta_candidate, kpi_cell_sector.coverage_balance_signal_range_lower_index, kpi_cell_sector.coverage_balance_signal_range_upper_index), true) FROM kpi://cell_sector inner join kpi_db://kpi_cell_sector on cell_sector.cell_fdn = kpi_cell_sector.cell_fdn AND cell_sector.cell_oss_id = kpi_cell_sector.cell_oss_id AND cell_sector.sector_id = kpi_cell_sector.sector_id",INTEGER,FIRST,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_oss_id,cell_sector.cell_fdn},false,{}
num_samples_rsrp_reference,cell_sector,"FIRST(SUM_ARRAY_SLICE(cell_sector.num_samples_rsrp_ta_reference, kpi_cell_sector.coverage_balance_signal_range_lower_index, kpi_cell_sector.coverage_balance_signal_range_upper_index), true) FROM kpi://cell_sector inner join kpi_db://kpi_cell_sector on cell_sector.cell_fdn = kpi_cell_sector.cell_fdn AND cell_sector.cell_oss_id = kpi_cell_sector.cell_oss_id AND cell_sector.sector_id = kpi_cell_sector.sector_id",INTEGER,FIRST,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_oss_id,cell_sector.cell_fdn},false,{}
num_samples_rsrp_ta,cell_guid,ARRAY_INDEX_SUM(synthetic_counters_cell.ctrNumSamplesRsrpTa) FROM pm_events://synthetic_counters_cell,INTEGER[129],ARRAY_INDEX_SUM,1440,0 0/15 * * * ? *,{synthetic_counters_cell.guid,synthetic_counters_cell.fdn,synthetic_counters_cell.oss_id},false,{}
num_samples_rsrp_ta_candidate,cell_sector,"FIRST( kpi_cell_guid_1440.num_samples_rsrp_ta, true ) FROM kpi_db://kpi_cell_sector_1440 inner join kpi_db://kpi_cell_guid_1440 on kpi_cell_sector_1440.cell_oss_id = kpi_cell_guid_1440.oss_id AND kpi_cell_sector_1440.cell_fdn = kpi_cell_guid_1440.fdn",INTEGER[129],FIRST,1440,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')","kpi_db://kpi_cell_guid_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
num_samples_rsrp_ta_reference,cell_sector,"FIRST( kpi_cell_guid_1440.num_samples_rsrp_ta, true ) FROM kpi_db://kpi_cell_sector_1440 inner join kpi_db://kpi_cell_guid_1440 on kpi_cell_sector_1440.reference_cell = kpi_cell_guid_1440.fdn AND kpi_cell_sector_1440.cell_oss_id = kpi_cell_guid_1440.oss_id",INTEGER[129],FIRST,1440,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')","kpi_db://kpi_cell_guid_1440.local_timestamp = TO_TIMESTAMP('${param.start_date_time}')"}
num_samples_ta,cell_guid,ARRAY_INDEX_SUM(synthetic_counters_cell.ctrNumSamplesTa) FROM pm_events://synthetic_counters_cell,INTEGER[129],ARRAY_INDEX_SUM,1440,0 0/15 * * * ? *,{synthetic_counters_cell.guid,synthetic_counters_cell.fdn,synthetic_counters_cell.oss_id},false,{}
num_samples_ta_hourly,cell_guid,ARRAY_INDEX_SUM(synthetic_counters_cell.ctrNumSamplesTa) FROM pm_events://synthetic_counters_cell,INTEGER[129],ARRAY_INDEX_SUM,60,0 30 0/1 * * ? *,{synthetic_counters_cell.guid,synthetic_counters_cell.fdn,synthetic_counters_cell.oss_id},false,{}
num_ue_samples_q1,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_ta_hourly, true), FIRST(0), FIRST(cell_guid.bin_q1, true), FIRST(1)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_ue_samples_q2,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_ta_hourly, true), FIRST(cell_guid.bin_q1, true), FIRST(cell_guid.bin_q2, true), FIRST(2)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_ue_samples_q3,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_ta_hourly, true), FIRST(cell_guid.bin_q2, true), FIRST(cell_guid.bin_q3, true), FIRST(3)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_ue_samples_q4,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_ta_hourly, true), FIRST(cell_guid.bin_q3, true), FIRST(cell_guid.bin_q4, true), FIRST(4)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
out_succ_ho_interf,relation_guid_source_guid_target_guid,SUM(counters_relation.pmHoExeSuccLteInterF) FROM pm_stats://counters_relation,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_relation.guid,counters_relation.source_guid,counters_relation.target_guid,counters_relation.oss_id,counters_relation.fdn},false,{}
out_succ_ho_intraf,relation_guid_source_guid_target_guid,SUM(counters_relation.pmHoExeSuccLteIntraF) FROM pm_stats://counters_relation,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_relation.guid,counters_relation.source_guid,counters_relation.target_guid,counters_relation.oss_id,counters_relation.fdn},false,{}
pdcch_cfi_mode,cell_guid,FIRST(CASE WHEN cell.pdcchCfiMode = 'CFI_STATIC_BY_BW' THEN 0 WHEN cell.pdcchCfiMode = 'CFI_STATIC_1' THEN 1 WHEN cell.pdcchCfiMode = 'CFI_STATIC_2' THEN 2 WHEN cell.pdcchCfiMode = 'CFI_STATIC_3' THEN 3 WHEN cell.pdcchCfiMode = 'CFI_AUTO_MAXIMUM_2' THEN 4 WHEN cell.pdcchCfiMode = 'CFI_AUTO_MAXIMUM_3' THEN 5 ELSE NULL END) FROM cm://cell,INTEGER,FIRST,60,0 30 0/1 * * ? *,{"cell.id as guid",cell.oss_id,cell.fdn},false,{}
pdcchcceutil,cell_guid,FIRST(cell_guid.pmpdcchcceutil_0_19_distribution_product) / FIRST(cell_guid.pmpdcchcceactivity_sum_den) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
percentage_bad_rsrp_samples_candidate,cell_sector,"100 * FIRST( cell_sector.num_samples_bad_rsrp_candidate, true ) / FIRST( cell_sector.num_samples_rsrp_candidate, true ) FROM kpi://cell_sector",FLOAT,FIRST,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_oss_id,cell_sector.cell_fdn},false,{}
percentage_bad_rsrp_samples_reference,cell_sector,"100 * FIRST( cell_sector.num_samples_bad_rsrp_reference, true ) / FIRST( cell_sector.num_samples_rsrp_reference, true ) FROM kpi://cell_sector",FLOAT,FIRST,1440,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_oss_id,cell_sector.cell_fdn},false,{}
pm_cell_downtime_auto_daily,cell_guid,SUM(counters_cell.pmCellDowntimeAuto) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_cell_downtime_man_daily,cell_guid,SUM(counters_cell.pmCellDowntimeMan) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pmpdcchcceactivity_sum_den,cell_guid,SUM(counters_cell.pmPdcchCceActivity) FROM pm_stats://counters_cell,FLOAT,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pmpdcchcceutil_0_19_distribution_product,cell_guid,SUM(cell_guid.pmpdcchcceutil_0_norm * 0.025) + SUM(cell_guid.pmpdcchcceutil_1_19_distribution_product) FROM kpi://cell_guid,FLOAT,SUM,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
pmpdcchcceutil_0_norm,cell_guid,"SUM(counters_cell.pmPdcchCceActivity - aggregate(slice(counters_cell.pmPdcchCceUtil, 2, 19), 0, (acc, x) -> acc + x)) FROM pm_stats://counters_cell",INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.fdn,counters_cell.oss_id},false,{}
pmpdcchcceutil_1_19_distribution_product,cell_guid,SUM(counters_cell.pmPdcchCceUtil[1] * 0.075) + SUM(counters_cell.pmPdcchCceUtil[2] * 0.125) + SUM(counters_cell.pmPdcchCceUtil[3] * 0.175) + SUM(counters_cell.pmPdcchCceUtil[4] * 0.225) + SUM(counters_cell.pmPdcchCceUtil[5] * 0.275) + SUM(counters_cell.pmPdcchCceUtil[6] * 0.325) + SUM(counters_cell.pmPdcchCceUtil[7] * 0.375) + SUM(counters_cell.pmPdcchCceUtil[8] * 0.425) + SUM(counters_cell.pmPdcchCceUtil[9] * 0.475) + SUM(counters_cell.pmPdcchCceUtil[10] * 0.525) + SUM(counters_cell.pmPdcchCceUtil[11] * 0.575) + SUM(counters_cell.pmPdcchCceUtil[12] * 0.625) + SUM(counters_cell.pmPdcchCceUtil[13] * 0.675) + SUM(counters_cell.pmPdcchCceUtil[14] * 0.725) + SUM(counters_cell.pmPdcchCceUtil[15] * 0.775) + SUM(counters_cell.pmPdcchCceUtil[16] * 0.825) + SUM(counters_cell.pmPdcchCceUtil[17] * 0.875) + SUM(counters_cell.pmPdcchCceUtil[18] * 0.925) + SUM(counters_cell.pmPdcchCceUtil[19] *  0.975) FROM pm_stats://counters_cell,FLOAT,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
prb_pairs_available,cell_guid,SUM(counters_cell.pmPrbAvailDl) FROM pm_stats://counters_cell,FLOAT,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.fdn,counters_cell.oss_id},false,{}
qci_samples_per_rop,cell_guid,FIRST(cell_guid.counter_cell_reliability_hourly * 9053) FROM kpi://cell_guid,INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
radio_tx_rank_distr,cell_guid,ARRAY_INDEX_SUM(counters_cell.pmRadioTxRankDistr) FROM pm_stats://counters_cell,INTEGER[16],ARRAY_INDEX_SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
reference_cell,cell_sector,"FIRST( kpi_sector.reference_cell_sector_fdn, true ) FROM kpi_db://kpi_cell_sector_1440 inner join kpi_db://kpi_sector on kpi_cell_sector_1440.sector_id = kpi_sector.sector_id",TEXT,FIRST,1440,,{kpi_cell_sector_1440.cell_id,kpi_cell_sector_1440.sector_id,kpi_cell_sector_1440.cell_oss_id,kpi_cell_sector_1440.cell_fdn},false,{"kpi_db://kpi_cell_sector_1440.TO_DATE(local_timestamp) = TO_TIMESTAMP('${param.start_date_time}')"}
reference_cell_sector_fdn,sector,"FIRST( kpi_cell_sector_1440.cell_fdn, true ) FROM kpi_db://kpi_cell_sector_1440 inner join kpi://sector on kpi_cell_sector_1440.sector_id = sector.sector_id AND kpi_cell_sector_1440.coverage_balance_distance = sector.max_coverage_balance_distance",TEXT,FIRST,-1,,{kpi_cell_sector_1440.sector_id},false,{}
resource_elements_per_prb,cell_guid,FIRST(CASE WHEN cell_guid.pdcch_cfi_mode = 0 AND cell_guid.bandwidth > 10000 THEN 141.8 WHEN cell_guid.pdcch_cfi_mode = 0 AND cell_guid.bandwidth <= 10000 THEN 129.8 WHEN cell_guid.pdcch_cfi_mode = 1 THEN 141.8 WHEN cell_guid.pdcch_cfi_mode = 2 THEN 129.8 WHEN cell_guid.pdcch_cfi_mode = 3 THEN 117.8 WHEN cell_guid.pdcch_cfi_mode = 4 THEN cell_guid.resource_elements_per_prb_mode_4  WHEN cell_guid.pdcch_cfi_mode = 5 THEN cell_guid.resource_elements_per_prb_mode_5 END) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
resource_elements_per_prb_interim_mode_4_5,cell_guid,149.7 - FIRST(cell_guid.resource_elements_per_prb_interim_mode_4_5_num_den) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
resource_elements_per_prb_interim_mode_4_5_num_den,cell_guid,36 * FIRST(cell_guid.pdcchcceutil) * FIRST(cell_guid.cce_per_subframe) / FIRST(cell_guid.dlprbstot) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
resource_elements_per_prb_mode_4,cell_guid,"FIRST(CASE WHEN cell_guid.resource_elements_per_prb_interim_mode_4_5 IS NOT NULL THEN GREATEST(LEAST(141.8, cell_guid.resource_elements_per_prb_interim_mode_4_5), 129.8) ELSE NULL END) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
resource_elements_per_prb_mode_5,cell_guid,"FIRST(CASE WHEN cell_guid.resource_elements_per_prb_interim_mode_4_5 IS NOT NULL THEN GREATEST(LEAST(141.8, cell_guid.resource_elements_per_prb_interim_mode_4_5), 117.8) ELSE NULL END) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
source_cell_cgi_daily,relation_guid_source_guid_target_guid,relation.source_cell_cgi FROM cm://relation,STRING,FIRST,1440,0 0/15 * * * ? *,{"relation.id as guid","relation.source_cell_id as source_guid","relation.target_cell_id as target_guid",relation.oss_id,relation.fdn},false,{}
source_fdn,relation_guid_source_guid_target_guid,cell_guid.fdn FROM kpi://relation_guid_source_guid_target_guid LEFT JOIN kpi://cell_guid ON relation_guid_source_guid_target_guid.source_cell_cgi_daily = cell_guid.cgi,TEXT,FIRST,1440,0 0/15 * * * ? *,{relation_guid_source_guid_target_guid.guid,relation_guid_source_guid_target_guid.source_guid,relation_guid_source_guid_target_guid.target_guid,relation_guid_source_guid_target_guid.oss_id,relation_guid_source_guid_target_guid.fdn},false,{}
sum_active_ues_in_dl,cell_guid,SUM(counters_cell.pmActiveUeDlSum) FROM pm_stats://counters_cell,LONG,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
sum_active_ues_in_dl_per_no_of_rops,cell_guid,FIRST(cell_guid.sum_active_ues_in_dl) / FIRST(cell_guid.tti_per_rop) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
tti_per_rop,cell_guid,FIRST(cell_guid.counter_cell_reliability_hourly * 900000) FROM kpi://cell_guid,INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},false,{}
ue_percentage_q1,cell_guid,"FIRST(100) * FIRST(cell_guid.num_ue_samples_q1, true) / FIRST(cell_guid.ue_total_samples_denominator, true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
ue_percentage_q2,cell_guid,"FIRST(100) * FIRST(cell_guid.num_ue_samples_q2, true) / FIRST(cell_guid.ue_total_samples_denominator, true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
ue_percentage_q3,cell_guid,"FIRST(100) * FIRST(cell_guid.num_ue_samples_q3, true) / FIRST(cell_guid.ue_total_samples_denominator, true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
ue_percentage_q4,cell_guid,"FIRST(100) * FIRST(cell_guid.num_ue_samples_q4, true) / FIRST(cell_guid.ue_total_samples_denominator, true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
ue_total_samples_denominator,cell_guid,"FIRST(cell_guid.num_ue_samples_q1, true) + FIRST(cell_guid.num_ue_samples_q2, true) + FIRST(cell_guid.num_ue_samples_q3, true) + FIRST(cell_guid.num_ue_samples_q4, true) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},false,{}
volteprbsdl,cell_guid,FIRST(cell_guid.volteprbsdl_numerator_qci) * FIRST(cell_guid.volteprbsdl_numerator_transmissions) / FIRST(cell_guid.tti_per_rop) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
volteprbsdl_numerator_qci,cell_guid,SUM(counters_cell.pmPrbUsedDlDtchFirstTransQci[1] + counters_cell.pmPrbUsedDlDtchFirstTransQci[2] + counters_cell.pmPrbUsedDlDtchFirstTransQci[5])  FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
volteprbsdl_numerator_transmissions,cell_guid,1 + SUM(counters_cell.pmPrbUsedDlReTrans) / SUM(counters_cell.pmPrbUsedDlFirstTrans) FROM pm_stats://counters_cell,FLOAT,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
p_failing_r_mbps_numerator_array,cell_guid_flm,"FIRST(ZIP_WITH(kpi_cell_guid_flm_60.achievable_throughput_indicator_array, kpi_cell_guid_60.cqi, (l, m) -> (l * m))) FROM kpi_db://kpi_cell_guid_flm_60 inner join kpi_db://kpi_cell_guid_60 on kpi_cell_guid_flm_60.fdn = kpi_cell_guid_60.fdn AND kpi_cell_guid_flm_60.oss_id = kpi_cell_guid_60.oss_id AND kpi_cell_guid_flm_60.local_timestamp = kpi_cell_guid_60.local_timestamp",FLOAT[30],FIRST,60,,{kpi_cell_guid_flm_60.guid,kpi_cell_guid_flm_60.fdn,kpi_cell_guid_flm_60.oss_id,kpi_cell_guid_flm_60.execution_id},false,{"kpi_db://kpi_cell_guid_flm_60.achievable_throughput_indicator_array IS NOT NULL","kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.execution_id}'","kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')","kpi_db://kpi_cell_guid_60.cqi_sum > 0"}
p_failing_r_mbps_numerator,cell_guid_flm,"SUM(aggregate(cell_guid_flm.p_failing_r_mbps_numerator_array, double(0), (acc, x) -> acc + x)) FROM kpi://cell_guid_flm",FLOAT,FIRST,60,,{cell_guid_flm.guid,cell_guid_flm.fdn,cell_guid_flm.oss_id,cell_guid_flm.execution_id},false,{}
p_failing_r_mbps,cell_guid_flm,FIRST(kpi_cell_guid_flm_60.p_failing_r_mbps_numerator) / FIRST(kpi_cell_guid_60.cqi_sum) FROM kpi_db://kpi_cell_guid_flm_60 inner join kpi_db://kpi_cell_guid_60 on kpi_cell_guid_flm_60.fdn = kpi_cell_guid_60.fdn AND kpi_cell_guid_flm_60.oss_id = kpi_cell_guid_60.oss_id AND kpi_cell_guid_flm_60.local_timestamp = kpi_cell_guid_60.local_timestamp,FLOAT,FIRST,60,,{kpi_cell_guid_flm_60.guid,kpi_cell_guid_flm_60.fdn,kpi_cell_guid_flm_60.oss_id,kpi_cell_guid_flm_60.execution_id},true,{"kpi_db://kpi_cell_guid_flm_60.p_failing_r_mbps_numerator IS NOT NULL","kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.execution_id}'","kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')","kpi_db://kpi_cell_guid_60.cqi_sum > 0"}
goal_function_resource_efficiency,cell_guid_flm,FIRST(1 -  cell_guid_flm.p_failing_r_mbps) FROM kpi://cell_guid_flm,FLOAT,FIRST,60,,{cell_guid_flm.guid,cell_guid_flm.fdn,cell_guid_flm.oss_id,cell_guid_flm.execution_id},true,{}
connected_users,cell_guid,SUM(counters_cell.pmRrcConnLevSum) / SUM(counters_cell.pmRrcConnLevSamp) FROM pm_stats://counters_cell,FLOAT,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
unhappy_users,cell_guid_flm,FIRST(kpi_cell_guid_flm_60.p_failing_r_mbps) * FIRST(kpi_cell_guid_60.connected_users) FROM kpi_db://kpi_cell_guid_flm_60 inner join kpi_db://kpi_cell_guid_60 on kpi_cell_guid_flm_60.fdn = kpi_cell_guid_60.fdn AND kpi_cell_guid_flm_60.oss_id = kpi_cell_guid_60.oss_id AND kpi_cell_guid_flm_60.local_timestamp = kpi_cell_guid_60.local_timestamp,FLOAT,FIRST,60,,{kpi_cell_guid_flm_60.guid,kpi_cell_guid_flm_60.fdn,kpi_cell_guid_flm_60.oss_id,kpi_cell_guid_flm_60.execution_id},true,{"kpi_db://kpi_cell_guid_flm_60.p_failing_r_mbps IS NOT NULL","kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.execution_id}'","kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')"}
num_calls_cell_sector_hourly,cell_sector,SUM(cell_guid.num_calls_cell_hourly) FROM kpi://cell_guid  INNER JOIN cm://cell_sector ON cell_guid.fdn = cell_sector.cell_fdn AND cell_guid.oss_id = cell_sector.cell_oss_id,INTEGER,SUM,60,0 0/15 * * * ? *,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_fdn,cell_sector.cell_oss_id},false,{}
num_calls_sector_hourly,sector,SUM(cell_sector.num_calls_cell_sector_hourly) FROM kpi://cell_sector,INTEGER,SUM,60,0 0/15 * * * ? *,{cell_sector.sector_id},true,{}
num_values_used_for_mcu_cdf_calculation,freqband_bandwidth_r_flm,FIRST(cardinality(freqband_bandwidth_r_flm.mcu_cdf)) FROM kpi://freqband_bandwidth_r_flm,INTEGER,FIRST,1440,,{freqband_bandwidth_r_flm.execution_id,freqband_bandwidth_r_flm.target_throughput_r,freqband_bandwidth_r_flm.freq_band,freqband_bandwidth_r_flm.bandwidth},false,{}
sector_busy_hour_indicator,sector,MAX(kpi_sector_60.num_calls_sector_hourly) FROM kpi_db://kpi_sector_60,INTEGER,MAX,1440,,{kpi_sector_60.sector_id},false,{"kpi_db://kpi_sector_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')"}
sector_busy_hour,sector,"FIRST(kpi_sector_60.local_timestamp, true) FROM kpi://sector LEFT JOIN kpi_db://kpi_sector_60 ON sector.sector_id = kpi_sector_60.sector_id WHERE kpi_sector_60.num_calls_sector_hourly = sector.sector_busy_hour_indicator",TIMESTAMP,FIRST,1440,,{sector.sector_id},true,{}
pm_erab_rel_abnormal_enb_act_qci1,cell_guid,SUM(counters_cell.pmErabRelAbnormalEnbActQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_rel_abnormal_mme_act_qci1,cell_guid,SUM(counters_cell.pmErabRelAbnormalMmeActQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_rel_abnormal_enb_qci1,cell_guid,SUM(counters_cell.pmErabRelAbnormalEnbQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_rel_normal_enb_qci1,cell_guid,SUM(counters_cell.pmErabRelNormalEnbQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_rel_mme_qci1,cell_guid,SUM(counters_cell.pmErabRelMmeQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
e_rab_retainability_percentage_lost_qci1,cell_guid,"100 * ( FIRST(cell_guid.pm_erab_rel_abnormal_enb_act_qci1, true) + FIRST(cell_guid.pm_erab_rel_abnormal_mme_act_qci1, true) ) / ( FIRST(cell_guid.pm_erab_rel_abnormal_enb_qci1, true) + FIRST(cell_guid.pm_erab_rel_normal_enb_qci1, true) + FIRST(cell_guid.pm_erab_rel_mme_qci1, true) )  FROM kpi_post_agg://cell_guid",FLOAT,FIRST,1440,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
e_rab_retainability_percentage_lost_qci1_num,cell_guid,SUM(counters_cell.pmErabRelAbnormalEnbActQci[1] + counters_cell.pmErabRelAbnormalMmeActQci[1] ) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
e_rab_retainability_percentage_lost_qci1_den,cell_guid,SUM(counters_cell.pmErabRelAbnormalEnbQci[1] + counters_cell.pmErabRelNormalEnbQci[1] + counters_cell.pmErabRelMmeQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
e_rab_retainability_percentage_lost_qci1_hourly,cell_guid,"100 * (FIRST(cell_guid.e_rab_retainability_percentage_lost_qci1_num, true)) / (FIRST(cell_guid.e_rab_retainability_percentage_lost_qci1_den, true)) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
pm_erab_rel_abnormal_enb_act,cell_guid,SUM(counters_cell.pmErabRelAbnormalEnbAct) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_rel_abnormal_mme_act,cell_guid,SUM(counters_cell.pmErabRelAbnormalMmeAct) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_rel_abnormal_enb,cell_guid,SUM(counters_cell.pmErabRelAbnormalEnb) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_rel_normal_enb,cell_guid,SUM(counters_cell.pmErabRelNormalEnb) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_rel_mme,cell_guid,SUM(counters_cell.pmErabRelMme) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
e_rab_retainability_percentage_lost,cell_guid,100 * (FIRST(cell_guid.pm_erab_rel_abnormal_enb_act) + FIRST(cell_guid.pm_erab_rel_abnormal_mme_act) ) / ( FIRST(cell_guid.pm_erab_rel_abnormal_enb) + FIRST(cell_guid.pm_erab_rel_normal_enb) + FIRST(cell_guid.pm_erab_rel_mme)) FROM kpi_post_agg://cell_guid,FLOAT,FIRST,1440,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
e_rab_retainability_percentage_lost_hourly_num,cell_guid,SUM(counters_cell.pmErabRelAbnormalEnbAct + counters_cell.pmErabRelAbnormalMmeAct) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
e_rab_retainability_percentage_lost_hourly_den,cell_guid,SUM(counters_cell.pmErabRelAbnormalEnb + counters_cell.pmErabRelNormalEnb + counters_cell.pmErabRelMme) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
e_rab_retainability_percentage_lost_hourly,cell_guid,"100 * FIRST(cell_guid.e_rab_retainability_percentage_lost_hourly_num, true) / FIRST(cell_guid.e_rab_retainability_percentage_lost_hourly_den, true)  FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
pm_erab_estab_att_added,cell_guid,SUM(counters_cell.pmErabEstabAttAdded) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_estab_att_added_ho_ongoing,cell_guid,SUM(counters_cell.pmErabEstabAttAddedHoOngoing) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_estab_att_init,cell_guid,SUM(counters_cell.pmErabEstabAttInit) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_estab_succ_added,cell_guid,SUM(counters_cell.pmErabEstabSuccAdded) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
mcu_cdf,freqband_bandwidth_r_flm,"array_sort(collect_list(ROUND(kpi_cell_guid_60.connected_users,2))) FROM kpi_db://kpi_cell_guid_60 JOIN kpi_db://kpi_cell_guid_flm_60 ON kpi_cell_guid_60.local_timestamp = kpi_cell_guid_flm_60.local_timestamp AND kpi_cell_guid_60.fdn = kpi_cell_guid_flm_60.fdn AND kpi_cell_guid_60.oss_id = kpi_cell_guid_flm_60.oss_id WHERE ROUND(kpi_cell_guid_flm_60.p_failing_r_mbps, 1) = ${param.qos_for_capacity_estimation}",FLOAT[],FIRST,1440,,{kpi_cell_guid_flm_60.execution_id,kpi_cell_guid_flm_60.target_throughput_r,kpi_cell_guid_60.freq_band,kpi_cell_guid_60.bandwidth},false,{"kpi_db://kpi_cell_guid_flm_60.p_failing_r_mbps IS NOT NULL","kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.execution_id}'","kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')","kpi_db://kpi_cell_guid_60.connected_users IS NOT NULL","kpi_db://kpi_cell_guid_60.connected_users != 0"}
max_connected_users,freqband_bandwidth_r_flm,"FIRST(CALCULATE_PERCENTILE_VALUE(freqband_bandwidth_r_flm.mcu_cdf, ${param.percentile_for_max_connected_user})) FROM kpi://freqband_bandwidth_r_flm",FLOAT,FIRST,1440,,{freqband_bandwidth_r_flm.execution_id,freqband_bandwidth_r_flm.target_throughput_r,freqband_bandwidth_r_flm.freq_band,freqband_bandwidth_r_flm.bandwidth},false,{}
num_calls_daily,cell_guid,SUM(counters_cell.pmErabEstabSuccInit) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_rrc_conn_estab_att,cell_guid,SUM(counters_cell.pmRrcConnEstabAtt) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_rrc_conn_estab_att_reatt,cell_guid,SUM(counters_cell.pmRrcConnEstabAttReatt) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_rrc_conn_estab_fail_mme_ovl_mod,cell_guid,CASE WHEN SUM(counters_cell.pmRrcConnEstabFailMmeOvlMod) IS NULL THEN 0 ELSE SUM(counters_cell.pmRrcConnEstabFailMmeOvlMod) END FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_rrc_conn_estab_fail_mme_ovl_mos,cell_guid,CASE WHEN SUM(counters_cell.pmRrcConnEstabFailMmeOvlMos) IS NULL THEN 0 ELSE SUM(counters_cell.pmRrcConnEstabFailMmeOvlMos) END FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_rrc_conn_estab_succ,cell_guid,SUM(counters_cell.pmRrcConnEstabSucc) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_s1_sig_conn_estab_att,cell_guid,SUM(counters_cell.pmS1SigConnEstabAtt) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_s1_sig_conn_estab_fail_mme_ovl_mos,cell_guid,CASE WHEN SUM(counters_cell.pmS1SigConnEstabFailMmeOvlMos) IS NULL THEN 0 ELSE SUM(counters_cell.pmS1SigConnEstabFailMmeOvlMos) END FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_s1_sig_conn_estab_succ,cell_guid,SUM(counters_cell.pmS1SigConnEstabSucc) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
initial_and_added_e_rab_establishment_sr,cell_guid,"100 * ((FIRST( cell_guid.pm_rrc_conn_estab_succ, true ) * 0.01) * (FIRST( cell_guid.pm_s1_sig_conn_estab_succ, true) * 0.01) * ((FIRST( cell_guid.num_calls_daily, true ) * 0.01) + (FIRST( cell_guid.pm_erab_estab_succ_added, true ) * 0.01))) / (((FIRST( cell_guid.pm_rrc_conn_estab_att, true ) * 0.01) - (FIRST( cell_guid.pm_rrc_conn_estab_att_reatt, true ) * 0.01) - (FIRST( cell_guid.pm_rrc_conn_estab_fail_mme_ovl_mos, true ) * 0.01) - (FIRST( cell_guid.pm_rrc_conn_estab_fail_mme_ovl_mod, true ) * 0.01)) * ((FIRST( cell_guid.pm_s1_sig_conn_estab_att, true ) * 0.01) - (FIRST( cell_guid.pm_s1_sig_conn_estab_fail_mme_ovl_mos, true ) * 0.01)) * ((FIRST( cell_guid.pm_erab_estab_att_init, true ) * 0.01) + (FIRST( cell_guid.pm_erab_estab_att_added, true ) * 0.01) - (FIRST( cell_guid.pm_erab_estab_att_added_ho_ongoing, true ) * 0.01))) FROM kpi_post_agg://cell_guid",REAL,FIRST,1440,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
rrc_conn_estab_succ,cell_guid,SUM(counters_cell.pmRrcConnEstabSuccMod) + SUM(counters_cell.pmRrcConnEstabSuccMoVoice) + SUM(counters_cell.pmRrcConnEstabSuccMta) + SUM(counters_cell.pmRrcConnEstabSuccHpa)  FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
rrc_conn_estab_att_reatt,cell_guid,SUM(counters_cell.pmRrcConnEstabAttReattMod) + SUM(counters_cell.pmRrcConnEstabAttReattMoVoice) + SUM(counters_cell.pmRrcConnEstabAttReattMta) + SUM(counters_cell.pmRrcConnEstabAttReattHpa)  FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
rrc_conn_estab_att_int,cell_guid,"SUM(counters_cell.pmRrcConnEstabAttMod + counters_cell.pmRrcConnEstabAttMoVoice + counters_cell.pmRrcConnEstabAttMta + counters_cell.pmRrcConnEstabAttHpa - COALESCE( counters_cell.pmRrcConnEstabFailMmeOvlMod , 0))  FROM pm_stats://counters_cell",INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
rrc_conn_estab_att,cell_guid,SUM(cell_guid.rrc_conn_estab_att_int) - SUM(cell_guid.rrc_conn_estab_att_reatt) FROM kpi://cell_guid,FLOAT,SUM,1440,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
s1_sig_conn_estab_succ,cell_guid,SUM(counters_cell.pmS1SigConnEstabSuccMod) + SUM(counters_cell.pmS1SigConnEstabSuccMoVoice) +  SUM(counters_cell.pmS1SigConnEstabSuccMta) + SUM(counters_cell.pmS1SigConnEstabSuccHpa) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
s1_sig_conn_estab_att,cell_guid,SUM(counters_cell.pmS1SigConnEstabAttMod) + SUM(counters_cell.pmS1SigConnEstabAttMoVoice) +  SUM(counters_cell.pmS1SigConnEstabAttMta) + SUM(counters_cell.pmS1SigConnEstabAttHpa) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
target_throughput_r,cell_guid_flm,FIRST(cell_configuration.target_throughput_r) FROM flm://cell_configuration,FLOAT,FIRST,60,,{"cell_configuration.id AS guid",cell_configuration.fdn,cell_configuration.oss_id,cell_configuration.execution_id},false,{"flm://cell_configuration.execution_id = '${param.execution_id}'"}
connected_users_with_execution_id,cell_guid_flm,FIRST(kpi_cell_guid_60.connected_users) FROM kpi_db://kpi_cell_guid_60 INNER JOIN flm://cell_configuration ON kpi_cell_guid_60.fdn = cell_configuration.fdn AND kpi_cell_guid_60.oss_id = cell_configuration.oss_id,FLOAT,FIRST,60,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn,"'${param.execution_id}' AS execution_id"},false,{"kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')","flm://cell_configuration.execution_id = '${param.execution_id}'"}
pm_erab_estab_succ_init_qci1,cell_guid,SUM(counters_cell.pmErabEstabSuccInitQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_estab_succ_added_qci1,cell_guid,SUM(counters_cell.pmErabEstabSuccAddedQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_estab_att_init_qci1,cell_guid,SUM(counters_cell.pmErabEstabAttInitQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_estab_att_added_qci1,cell_guid,SUM(counters_cell.pmErabEstabAttAddedQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_erab_estab_att_added_ho_ongoing_qci1,cell_guid,SUM(counters_cell.pmErabEstabAttAddedHoOngoingQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
initial_and_added_e_rab_establishment_sr_for_qci1,cell_guid,100 * ((FIRST(cell_guid.rrc_conn_estab_succ) * 0.01) * (FIRST(cell_guid.s1_sig_conn_estab_succ) * 0.01) * ((FIRST(cell_guid.pm_erab_estab_succ_init_qci1) * 0.01) + (FIRST(cell_guid.pm_erab_estab_succ_added_qci1) * 0.01))) / ( (FIRST(cell_guid.rrc_conn_estab_att) * 0.01) * (FIRST(cell_guid.s1_sig_conn_estab_att) * 0.01) * ((FIRST(cell_guid.pm_erab_estab_att_init_qci1) * 0.01) + (FIRST(cell_guid.pm_erab_estab_att_added_qci1) * 0.01) - (FIRST(cell_guid.pm_erab_estab_att_added_ho_ongoing_qci1) * 0.01))) FROM kpi_post_agg://cell_guid,REAL,FIRST,1440,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
rrc_conn_estab_succ_hourly,cell_guid,SUM(counters_cell.pmRrcConnEstabSuccMod + counters_cell.pmRrcConnEstabSuccMoVoice + counters_cell.pmRrcConnEstabSuccMta + counters_cell.pmRrcConnEstabSuccHpa) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
s1_sig_conn_estab_succ_hourly,cell_guid,SUM(counters_cell.pmS1SigConnEstabSuccMod + counters_cell.pmS1SigConnEstabSuccMoVoice +  counters_cell.pmS1SigConnEstabSuccMta + counters_cell.pmS1SigConnEstabSuccHpa) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
erab_estab_succ_qci1_hourly,cell_guid,SUM(counters_cell.pmErabEstabSuccInitQci[1] + counters_cell.pmErabEstabSuccAddedQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
rrc_conn_estab_att_int_hourly,cell_guid,"SUM( counters_cell.pmRrcConnEstabAttMod + counters_cell.pmRrcConnEstabAttMoVoice + counters_cell.pmRrcConnEstabAttMta + counters_cell.pmRrcConnEstabAttHpa - counters_cell.pmRrcConnEstabAttReattMod - counters_cell.pmRrcConnEstabAttReattMoVoice - counters_cell.pmRrcConnEstabAttReattMta - counters_cell.pmRrcConnEstabAttReattHpa - COALESCE( counters_cell.pmRrcConnEstabFailMmeOvlMod , 0))  FROM pm_stats://counters_cell",INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
s1_sig_conn_estab_attm_hourly,cell_guid,SUM(counters_cell.pmS1SigConnEstabAttMod + counters_cell.pmS1SigConnEstabAttMoVoice +  counters_cell.pmS1SigConnEstabAttMta + counters_cell.pmS1SigConnEstabAttHpa) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
erab_estab_att_qci1_hourly,cell_guid,SUM(counters_cell.pmErabEstabAttInitQci[1] + counters_cell.pmErabEstabAttAddedQci[1] - counters_cell.pmErabEstabAttAddedHoOngoingQci[1]) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
initial_and_added_e_rab_establishment_sr_for_qci1_hourly,cell_guid,100 * (FIRST(cell_guid.rrc_conn_estab_succ_hourly) * FIRST(cell_guid.s1_sig_conn_estab_succ_hourly) * FIRST(cell_guid.erab_estab_succ_qci1_hourly)) / (FIRST(cell_guid.rrc_conn_estab_att_int_hourly) * FIRST(cell_guid.s1_sig_conn_estab_attm_hourly) * FIRST(cell_guid.erab_estab_att_qci1_hourly)) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
cell_prep_succ,cell_guid,SUM(counters_cell.pmCellHoPrepSuccLteIntraF) + SUM(counters_cell.pmCellHoPrepSuccLteInterF) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
cell_prep_att,cell_guid,CASE WHEN SUM(counters_cell.pmHoPrepRejOutUlThres) IS NULL THEN (SUM(counters_cell.pmCellHoPrepAttLteIntraF) + SUM(counters_cell.pmCellHoPrepAttLteInterF)) ELSE(SUM(counters_cell.pmCellHoPrepAttLteIntraF) + SUM(counters_cell.pmCellHoPrepAttLteInterF) - SUM(counters_cell.pmHoPrepRejOutUlThres)) END FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
cell_exe_succ,cell_guid,SUM(counters_cell.pmCellHoExeSuccLteIntraF) + SUM(counters_cell.pmCellHoExeSuccLteInterF) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
cell_exe_att,cell_guid,SUM(counters_cell.pmCellHoExeAttLteIntraF) + SUM(counters_cell.pmCellHoExeAttLteInterF) FROM pm_stats://counters_cell,INTEGER,SUM,1440,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
cell_handover_success_rate,cell_guid,100 * (FIRST(cell_guid.cell_prep_succ) * FIRST(cell_guid.cell_exe_succ)) / ( FIRST(cell_guid.cell_prep_att) * FIRST(cell_guid.cell_exe_att)) FROM kpi_post_agg://cell_guid,FLOAT,FIRST,1440,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
cell_prep_succ_hourly,cell_guid,SUM(counters_cell.pmCellHoPrepSuccLteIntraF) + SUM(counters_cell.pmCellHoPrepSuccLteInterF) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
cell_prep_att_hourly,cell_guid,CASE WHEN SUM(counters_cell.pmHoPrepRejOutUlThres) IS NULL THEN (SUM(counters_cell.pmCellHoPrepAttLteIntraF) + SUM(counters_cell.pmCellHoPrepAttLteInterF)) ELSE(SUM(counters_cell.pmCellHoPrepAttLteIntraF) + SUM(counters_cell.pmCellHoPrepAttLteInterF) - SUM(counters_cell.pmHoPrepRejOutUlThres)) END FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
cell_exe_succ_hourly,cell_guid,SUM(counters_cell.pmCellHoExeSuccLteIntraF) + SUM(counters_cell.pmCellHoExeSuccLteInterF) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
cell_exe_att_hourly,cell_guid,SUM(counters_cell.pmCellHoExeAttLteIntraF) + SUM(counters_cell.pmCellHoExeAttLteInterF) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
cell_handover_success_rate_hourly,cell_guid,100 * (FIRST(cell_guid.cell_prep_succ_hourly) * FIRST(cell_guid.cell_exe_succ_hourly)) / ( FIRST(cell_guid.cell_prep_att_hourly) * FIRST(cell_guid.cell_exe_att_hourly)) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
erab_estab_succ_hourly,cell_guid,SUM(counters_cell.pmErabEstabSuccInit + counters_cell.pmErabEstabSuccAdded) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
rrc_conn_estab_att_hourly,cell_guid,"SUM(counters_cell.pmRrcConnEstabAtt - counters_cell.pmRrcConnEstabAttReatt - COALESCE( counters_cell.pmRrcConnEstabFailMmeOvlMos , 0) - COALESCE( counters_cell.pmRrcConnEstabFailMmeOvlMod , 0)) FROM pm_stats://counters_cell",INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
s1_sig_conn_estab_att_hourly,cell_guid,"SUM(counters_cell.pmS1SigConnEstabAtt - COALESCE( counters_cell.pmS1SigConnEstabFailMmeOvlMos , 0)) FROM pm_stats://counters_cell",INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
erab_estab_att_hourly,cell_guid,SUM(counters_cell.pmErabEstabAttInit + counters_cell.pmErabEstabAttAdded - counters_cell.pmErabEstabAttAddedHoOngoing) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
pm_rrc_conn_estab_succ_hourly,cell_guid,SUM(counters_cell.pmRrcConnEstabSucc) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
pm_s1_sig_conn_estab_succ_hourly,cell_guid,SUM(counters_cell.pmS1SigConnEstabSucc) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
initial_and_added_e_rab_establishment_sr_hourly,cell_guid,"(100 * FIRST(cell_guid.pm_rrc_conn_estab_succ_hourly, true) * FIRST(cell_guid.pm_s1_sig_conn_estab_succ_hourly, true) * FIRST(cell_guid.erab_estab_succ_hourly, true)) / (FIRST(cell_guid.rrc_conn_estab_att_hourly, true) * FIRST(cell_guid.s1_sig_conn_estab_att_hourly, true) * FIRST(cell_guid.erab_estab_att_hourly, true)) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
sub_ratio_denom,cell_guid,SUM(counters_cell.pmLbSubRatioSamp) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
sub_ratio_numerator,cell_guid,SUM(counters_cell.pmLbSubRatioSum) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
subscription_ratio,cell_guid,0.001 * FIRST(cell_guid.sub_ratio_numerator) / FIRST(cell_guid.sub_ratio_denom) FROM kpi_post_agg://cell_guid,FLOAT,SUM,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
pm_idle_mode_rel_distr_high_load,cell_guid,SUM(counters_cell.pmIdleModeRelDistrHighLoad) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_idle_mode_rel_distr_medium_high_load,cell_guid,SUM(counters_cell.pmIdleModeRelDistrMediumHighLoad) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_idle_mode_rel_distr_medium_load,cell_guid,SUM(counters_cell.pmIdleModeRelDistrMediumLoad) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_idle_mode_rel_distr_low_medium_load,cell_guid,SUM(counters_cell.pmIdleModeRelDistrLowMediumLoad) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_idle_mode_rel_distr_low_load,cell_guid,SUM(counters_cell.pmIdleModeRelDistrLowLoad) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
execution_sector_busy_hour,cell_sector_flm,FIRST(kpi_sector_1440.sector_busy_hour) FROM kpi_db://kpi_sector_1440 INNER JOIN flm://cell_configuration ON kpi_sector_1440.sector_id = cell_configuration.sector_id,TIMESTAMP,FIRST,1440,,{"cell_configuration.id AS cell_id",cell_configuration.sector_id,"cell_configuration.oss_id AS cell_oss_id","cell_configuration.fdn AS cell_fdn","'${param.execution_id}' AS execution_id"},false,{"kpi_db://kpi_sector_1440.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')","flm://cell_configuration.execution_id = '${param.execution_id}'"}
actual_connected_users,cell_sector_flm,FIRST(kpi_cell_guid_60.connected_users) FROM kpi://cell_sector_flm JOIN kpi_db://kpi_cell_guid_60 ON cell_sector_flm.cell_id = kpi_cell_guid_60.guid AND cell_sector_flm.cell_fdn = kpi_cell_guid_60.fdn AND cell_sector_flm.cell_oss_id = kpi_cell_guid_60.oss_id AND cell_sector_flm.execution_sector_busy_hour = kpi_cell_guid_60.local_timestamp,FLOAT,FIRST,1440,,{cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_fdn,cell_sector_flm.execution_id},false,{"kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')"}
freq_band_daily,cell_sector_flm,FIRST(kpi_cell_guid_60.freq_band) FROM kpi://cell_sector_flm JOIN kpi_db://kpi_cell_guid_60 ON cell_sector_flm.cell_id = kpi_cell_guid_60.guid AND cell_sector_flm.cell_fdn = kpi_cell_guid_60.fdn AND cell_sector_flm.cell_oss_id = kpi_cell_guid_60.oss_id AND cell_sector_flm.execution_sector_busy_hour = kpi_cell_guid_60.local_timestamp,INTEGER,FIRST,1440,,{cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_fdn,cell_sector_flm.execution_id},false,{"kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')"}
bandwidth_daily,cell_sector_flm,FIRST(kpi_cell_guid_60.bandwidth) FROM kpi://cell_sector_flm JOIN kpi_db://kpi_cell_guid_60 ON cell_sector_flm.cell_id = kpi_cell_guid_60.guid AND cell_sector_flm.cell_fdn = kpi_cell_guid_60.fdn AND cell_sector_flm.cell_oss_id = kpi_cell_guid_60.oss_id AND cell_sector_flm.execution_sector_busy_hour = kpi_cell_guid_60.local_timestamp,INTEGER,FIRST,1440,,{cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_fdn,cell_sector_flm.execution_id},false,{"kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')"}
target_throughput_r_daily,cell_sector_flm,FIRST(kpi_cell_guid_flm_60.target_throughput_r) FROM kpi://cell_sector_flm JOIN kpi_db://kpi_cell_guid_flm_60 ON cell_sector_flm.cell_id = kpi_cell_guid_flm_60.guid AND cell_sector_flm.cell_fdn = kpi_cell_guid_flm_60.fdn AND cell_sector_flm.cell_oss_id = kpi_cell_guid_flm_60.oss_id AND cell_sector_flm.execution_sector_busy_hour = kpi_cell_guid_flm_60.local_timestamp,FLOAT,FIRST,1440,,{cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_fdn,cell_sector_flm.execution_id},false,{"kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.execution_id}'"}
max_connected_users_daily,cell_sector_flm,FIRST(kpi_freqband_bandwidth_r_flm_1440.max_connected_users) FROM kpi://cell_sector_flm JOIN kpi_db://kpi_freqband_bandwidth_r_flm_1440 ON cell_sector_flm.freq_band_daily = kpi_freqband_bandwidth_r_flm_1440.freq_band AND cell_sector_flm.bandwidth_daily = kpi_freqband_bandwidth_r_flm_1440.bandwidth AND cell_sector_flm.target_throughput_r_daily = kpi_freqband_bandwidth_r_flm_1440.target_throughput_r,FLOAT,FIRST,1440,,{cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_fdn,cell_sector_flm.execution_id},false,{"kpi_db://kpi_freqband_bandwidth_r_flm_1440.execution_id = '${param.execution_id}'"}
target_cell_capacity,cell_sector_flm,FIRST(cell_sector_flm.max_connected_users_daily) - FIRST(cell_sector_flm.actual_connected_users) FROM kpi://cell_sector_flm,FLOAT,FIRST,1440,,{cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_fdn,cell_sector_flm.execution_id},false,{}
pm_ue_throughput_vol_ul,cell_sector,SUM(counters_cell.pmUeThpVolUl) FROM pm_stats://counters_cell INNER JOIN cm://cell_sector ON counters_cell.fdn = cell_sector.cell_fdn AND counters_cell.oss_id = cell_sector.cell_oss_id,LONG,SUM,60,0 30 0/1 * * ? *,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_fdn,cell_sector.cell_oss_id},true,{}
pm_ue_throughput_time_ul,cell_sector,SUM(counters_cell.pmUeThpTimeUl) FROM pm_stats://counters_cell INNER JOIN cm://cell_sector ON counters_cell.fdn = cell_sector.cell_fdn AND counters_cell.oss_id = cell_sector.cell_oss_id,LONG,SUM,60,0 30 0/1 * * ? *,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_fdn,cell_sector.cell_oss_id},true,{}
ul_pdcp_ue_throughput_num_sector,sector,SUM(cell_sector.pm_ue_throughput_vol_ul) FROM kpi://cell_sector,LONG,SUM,60,0 30 0/1 * * ? *,{cell_sector.sector_id},true,{}
ul_pdcp_ue_throughput_den_sector,sector,SUM(cell_sector.pm_ue_throughput_time_ul) FROM kpi://cell_sector,LONG,SUM,60,0 30 0/1 * * ? *,{cell_sector.sector_id},true,{}
avg_ul_pdcp_throughput_sector,sector,FIRST(sector.ul_pdcp_ue_throughput_num_sector) * 1000 / FIRST(sector.ul_pdcp_ue_throughput_den_sector) FROM kpi://sector,FLOAT,FIRST,60,0 30 0/1 * * ? *,{sector.sector_id},true,{}
num_non_null_counters_count_pmprbavaildl,cell_guid,COUNT(counters_cell.pmPrbAvailDl) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmpdcchcceactivity,cell_guid,COUNT(counters_cell.pmPdcchCceActivity) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmpdcchcceutil,cell_guid,COUNT(counters_cell.pmPdcchCceUtil) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmprbuseddldtchfirsttransqci,cell_guid,COUNT(counters_cell.pmPrbUsedDlDtchFirstTransQci) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmprbuseddlretrans,cell_guid,COUNT(counters_cell.pmPrbUsedDlReTrans) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmprbuseddlfirsttrans,cell_guid,COUNT(counters_cell.pmPrbUsedDlFirstTrans) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmactiveuedlsum,cell_guid,COUNT(counters_cell.pmActiveUeDlSum) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmradiothpvoldl,cell_guid,COUNT(counters_cell.pmRadioThpVolDl) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmradiothpvoldlscell,cell_guid,COUNT(counters_cell.pmRadioThpVolDlSCell) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmactiveuedlsumqci,cell_guid,COUNT(counters_cell.pmActiveUeDlSumQci) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmradiouerepcqidistr,cell_guid,COUNT(counters_cell.pmRadioUeRepCqiDistr) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmradiouerepcqidistr2,cell_guid,COUNT(counters_cell.pmRadioUeRepCqiDistr2) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmradiotxrankdistr,cell_guid,COUNT(counters_cell.pmRadioTxRankDistr) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmrrcconnlevsum,cell_guid,COUNT(counters_cell.pmRrcConnLevSum) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_pmrrcconnlevsamp,cell_guid,COUNT(counters_cell.pmRrcConnLevSamp) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
num_non_null_counters_count_app_coverage,cell_guid,SUM(cell_guid.num_non_null_counters_count_pmprbavaildl + cell_guid.num_non_null_counters_count_pmpdcchcceactivity + cell_guid.num_non_null_counters_count_pmpdcchcceutil + cell_guid.num_non_null_counters_count_pmprbuseddldtchfirsttransqci + cell_guid.num_non_null_counters_count_pmprbuseddlretrans + cell_guid.num_non_null_counters_count_pmprbuseddlfirsttrans + cell_guid.num_non_null_counters_count_pmactiveuedlsum + cell_guid.num_non_null_counters_count_pmradiothpvoldl + cell_guid.num_non_null_counters_count_pmradiothpvoldlscell + cell_guid.num_non_null_counters_count_pmactiveuedlsumqci + cell_guid.num_non_null_counters_count_pmradiouerepcqidistr + cell_guid.num_non_null_counters_count_pmradiouerepcqidistr2 + cell_guid.num_non_null_counters_count_pmradiotxrankdistr + cell_guid.num_non_null_counters_count_pmrrcconnlevsum + cell_guid.num_non_null_counters_count_pmrrcconnlevsamp) FROM kpi://cell_guid,INTEGER,SUM,60,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
pm_ue_throughput_vol_minus_lasttti_dl,cell_sector,SUM(counters_cell.pmPdcpVolDlDrb - counters_cell.pmPdcpVolDlDrbLastTTI) FROM pm_stats://counters_cell INNER JOIN cm://cell_sector ON counters_cell.fdn = cell_sector.cell_fdn AND counters_cell.oss_id = cell_sector.cell_oss_id,LONG,SUM,60,0 30 0/1 * * ? *,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_fdn,cell_sector.cell_oss_id},true,{}
pm_ue_throughput_time_dl,cell_sector,SUM(counters_cell.pmUeThpTimeDl) FROM pm_stats://counters_cell INNER JOIN cm://cell_sector ON counters_cell.fdn = cell_sector.cell_fdn AND counters_cell.oss_id = cell_sector.cell_oss_id,LONG,SUM,60,0 30 0/1 * * ? *,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_fdn,cell_sector.cell_oss_id},true,{}
dl_pdcp_ue_throughput_num_sector,sector,SUM(cell_sector.pm_ue_throughput_vol_minus_lasttti_dl) FROM kpi://cell_sector,LONG,SUM,60,0 30 0/1 * * ? *,{cell_sector.sector_id},true,{}
dl_pdcp_ue_throughput_den_sector,sector,SUM(cell_sector.pm_ue_throughput_time_dl) FROM kpi://cell_sector,LONG,SUM,60,0 30 0/1 * * ? *,{cell_sector.sector_id},true,{}
avg_dl_pdcp_throughput_sector,sector,FIRST(sector.dl_pdcp_ue_throughput_num_sector) * 1000 / FIRST(sector.dl_pdcp_ue_throughput_den_sector) FROM kpi://sector,FLOAT,FIRST,60,0 30 0/1 * * ? *,{sector.sector_id},true,{}
dl_pdcp_ue_throughput_num_cell,cell_guid,SUM(counters_cell.pmPdcpVolDlDrb - counters_cell.pmPdcpVolDlDrbLastTTI) FROM pm_stats://counters_cell,LONG,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
dl_pdcp_ue_throughput_den_cell,cell_guid,SUM(counters_cell.pmUeThpTimeDl) FROM pm_stats://counters_cell,LONG,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
avg_dl_pdcp_throughput_cell,cell_guid,FIRST(cell_guid.dl_pdcp_ue_throughput_num_cell) * 1000 / FIRST(cell_guid.dl_pdcp_ue_throughput_den_cell) FROM kpi_post_agg://cell_guid,FLOAT,FIRST,60,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
ul_pdcp_ue_throughput_num_cell,cell_guid,SUM(counters_cell.pmUeThpVolUl) FROM pm_stats://counters_cell,LONG,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
ul_pdcp_ue_throughput_den_cell,cell_guid,SUM(counters_cell.pmUeThpTimeUl) FROM pm_stats://counters_cell,LONG,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},true,{}
avg_ul_pdcp_ue_throughput_cell,cell_guid,1000 * FIRST(cell_guid.ul_pdcp_ue_throughput_num_cell) / FIRST(cell_guid.ul_pdcp_ue_throughput_den_cell) FROM kpi_post_agg://cell_guid,FLOAT,FIRST,60,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_values_used_for_mcu_cdf_calculation_daily,cell_sector_flm,FIRST(kpi_freqband_bandwidth_r_flm_1440.num_values_used_for_mcu_cdf_calculation) FROM kpi://cell_sector_flm JOIN kpi_db://kpi_freqband_bandwidth_r_flm_1440 ON cell_sector_flm.freq_band_daily = kpi_freqband_bandwidth_r_flm_1440.freq_band AND cell_sector_flm.bandwidth_daily = kpi_freqband_bandwidth_r_flm_1440.bandwidth AND cell_sector_flm.target_throughput_r_daily = kpi_freqband_bandwidth_r_flm_1440.target_throughput_r,INTEGER,FIRST,1440,,{cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_fdn,cell_sector_flm.execution_id},false,{"kpi_db://kpi_freqband_bandwidth_r_flm_1440.execution_id = '${param.execution_id}'"}
min_rops_for_app_cov_reliability,cell_guid_flm,FIRST(cell_configuration.min_rops_for_app_cov_reliability) FROM flm://cell_configuration,INTEGER,FIRST,60,,{"cell_configuration.id AS guid",cell_configuration.fdn,cell_configuration.oss_id,cell_configuration.execution_id},false,{"flm://cell_configuration.execution_id = '${param.execution_id}'"}
min_num_cqi_samples,cell_guid_flm,FIRST(cell_configuration.min_num_cqi_samples) FROM flm://cell_configuration,INTEGER,FIRST,60,,{"cell_configuration.id AS guid",cell_configuration.fdn,cell_configuration.oss_id,cell_configuration.execution_id},false,{"flm://cell_configuration.execution_id = '${param.execution_id}'"}
app_coverage_reliability,cell_guid_flm,FIRST(CASE WHEN kpi_cell_guid_60.counter_cell_reliability_hourly >= cell_guid_flm.min_rops_for_app_cov_reliability AND kpi_cell_guid_60.cqi_sum >= cell_guid_flm.min_num_cqi_samples AND kpi_cell_guid_60.num_non_null_counters_count_app_coverage = counter_cell_reliability_hourly * 15 THEN true ELSE false END) FROM kpi_db://kpi_cell_guid_60 INNER JOIN kpi://cell_guid_flm ON kpi_cell_guid_60.fdn = cell_guid_flm.fdn AND kpi_cell_guid_60.oss_id = cell_guid_flm.oss_id,BOOLEAN,FIRST,60,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.fdn,kpi_cell_guid_60.oss_id,cell_guid_flm.execution_id},true,{"kpi_db://kpi_cell_guid_60.local_timestamp BETWEEN TO_TIMESTAMP('${param.start_date_time}') AND TO_TIMESTAMP('${param.end_date_time}')"}
pm_flex_rrc_conn_sum,cell_guid,SUM(counters_cell.pmFlexRrcConnSum_Endc1To99) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_rrc_conn_samp,cell_guid,SUM(counters_cell.pmRrcConnSamp) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
connected_endc_users_hourly,cell_guid,FIRST(cell_guid.pm_flex_rrc_conn_sum) / FIRST(cell_guid.pm_rrc_conn_samp) FROM kpi_post_agg://cell_guid,FLOAT,FIRST,60,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
pm_rrc_conn_lev_sum,cell_guid,SUM(counters_cell.pmRrcConnLevSum) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
pm_rrc_conn_lev_samp,cell_guid,SUM(counters_cell.pmRrcConnLevSamp) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
connected_users_hourly,cell_guid,FIRST(cell_guid.pm_rrc_conn_lev_sum) / FIRST(cell_guid.pm_rrc_conn_lev_samp) FROM kpi_post_agg://cell_guid,FLOAT,FIRST,60,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
percentage_endc_users,cell_guid,100 * FIRST(cell_guid.connected_endc_users_hourly) / FIRST(cell_guid.connected_users_hourly) FROM kpi_post_agg://cell_guid,FLOAT,FIRST,60,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
per_endc_den,cell_guid,FIRST(cell_guid.connected_users_hourly) * FIRST(cell_guid.pm_rrc_conn_samp) FROM kpi_post_agg://cell_guid,FLOAT,FIRST,60,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
p_failing_r_mbps_previous,cell_guid_flm,FIRST(kpi_cell_guid_flm_60.p_failing_r_mbps) FROM kpi://cell_guid_flm JOIN kpi_db://kpi_cell_guid_flm_60 ON kpi_cell_guid_flm_60.fdn = cell_guid_flm.fdn AND kpi_cell_guid_flm_60.oss_id = cell_guid_flm.oss_id AND kpi_cell_guid_flm_60.target_throughput_r = cell_guid_flm.target_throughput_r AND EXTRACT(hour from kpi_cell_guid_flm_60.local_timestamp) = EXTRACT(hour from cell_guid_flm.local_timestamp),FLOAT,FIRST,60,,{cell_guid_flm.guid,cell_guid_flm.fdn,cell_guid_flm.oss_id,cell_guid_flm.execution_id},false,{"kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.previous_execution_id}'"}
p_failing_r_mbps_detrended,cell_guid_flm,FIRST(kpi_cell_guid_flm_60.p_failing_r_mbps) - FIRST(kpi_cell_guid_flm_60.p_failing_r_mbps_previous) FROM kpi_db://kpi_cell_guid_flm_60,FLOAT,FIRST,60,,{kpi_cell_guid_flm_60.guid,kpi_cell_guid_flm_60.fdn,kpi_cell_guid_flm_60.oss_id,kpi_cell_guid_flm_60.execution_id},true,{"kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.execution_id}'","kpi_db://kpi_cell_guid_flm_60.p_failing_r_mbps_previous IS NOT NULL"}
pm_flex_rrc_conn_sum_spid,cell_guid,SUM(counters_cell.pmFlexRrcConnSum_Spid115) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
endc_spid115_ues,cell_guid,FIRST(cell_guid.pm_flex_rrc_conn_sum_spid) / FIRST(cell_guid.pm_rrc_conn_samp) FROM kpi_post_agg://cell_guid,FLOAT,FIRST,60,0 0/15 * * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
hourly_detrended_array,cell_guid_flm,"collect_list(cell_guid_flm.p_failing_r_mbps_detrended) FROM kpi_db://kpi_cell_guid_flm_60 join kpi_db://kpi_cell_guid_flm_60 as cell_guid_flm ON kpi_cell_guid_flm_60.oss_id = cell_guid_flm.oss_id AND kpi_cell_guid_flm_60.fdn = cell_guid_flm.fdn AND cell_guid_flm.local_timestamp between kpi_cell_guid_flm_60.local_timestamp - interval 1 hour AND kpi_cell_guid_flm_60.local_timestamp + interval 1 hour AND date_trunc('Day', cell_guid_flm.local_timestamp) = date_trunc('Day', kpi_cell_guid_flm_60.local_timestamp) AND cell_guid_flm.p_failing_r_mbps_detrended IS NOT NULL",FLOAT[3],FIRST,60,,{kpi_cell_guid_flm_60.fdn,kpi_cell_guid_flm_60.oss_id,kpi_cell_guid_flm_60.guid,kpi_cell_guid_flm_60.execution_id},false,{"kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.execution_id}'"}
num_hourly_detrended_array,cell_guid_flm,FIRST(array(cardinality(cell_guid_flm.hourly_detrended_array))) FROM kpi://cell_guid_flm,INTEGER[1],FIRST,60,,{cell_guid_flm.fdn,cell_guid_flm.oss_id,cell_guid_flm.guid,cell_guid_flm.execution_id},false,{}
num_detrended_rolling_array,cell_guid_flm,"FIRST(APPEND_INTEGER_ARRAY(CASE WHEN cell_guid_flm.num_detrended_rolling_array IS NULL THEN cell_guid_flm.num_hourly_detrended_array ELSE cell_guid_flm.num_detrended_rolling_array END, kpi_cell_guid_flm_60.num_hourly_detrended_array, ${param.transient_num_days}+1), true) FROM kpi_db://kpi_cell_guid_flm_60 join kpi_db://kpi_cell_guid_flm_60 as cell_guid_flm ON kpi_cell_guid_flm_60.oss_id = cell_guid_flm.oss_id AND kpi_cell_guid_flm_60.fdn = cell_guid_flm.fdn AND extract(hour from kpi_cell_guid_flm_60.local_timestamp) = (extract(hour from cell_guid_flm.local_timestamp)) AND cell_guid_flm.local_timestamp < kpi_cell_guid_flm_60.local_timestamp AND kpi_cell_guid_flm_60.target_throughput_r = cell_guid_flm.target_throughput_r",INTEGER[],FIRST,60,,{kpi_cell_guid_flm_60.fdn,kpi_cell_guid_flm_60.oss_id,kpi_cell_guid_flm_60.guid,kpi_cell_guid_flm_60.execution_id},false,{"kpi_db://kpi_cell_guid_flm_60.execution_id in ( '${param.execution_id}', '${param.previous_execution_id}' )"}
detrended_rolling_array,cell_guid_flm,"FIRST(APPEND_DOUBLE_ARRAY_GIVEN_CARDINALITY_AND_LIMIT(cell_guid_flm.detrended_rolling_array, cell_guid_flm.hourly_detrended_array, kpi_cell_guid_flm_60.num_detrended_rolling_array, ${param.transient_num_days}), true) FROM kpi_db://kpi_cell_guid_flm_60 join kpi_db://kpi_cell_guid_flm_60 as cell_guid_flm ON kpi_cell_guid_flm_60.oss_id = cell_guid_flm.oss_id AND kpi_cell_guid_flm_60.fdn = cell_guid_flm.fdn AND extract(hour from kpi_cell_guid_flm_60.local_timestamp) = (extract(hour from cell_guid_flm.local_timestamp)) AND cell_guid_flm.local_timestamp < kpi_cell_guid_flm_60.local_timestamp AND kpi_cell_guid_flm_60.target_throughput_r = cell_guid_flm.target_throughput_r",FLOAT[],FIRST,60,,{kpi_cell_guid_flm_60.fdn,kpi_cell_guid_flm_60.oss_id,kpi_cell_guid_flm_60.guid,kpi_cell_guid_flm_60.execution_id},false,{"kpi_db://kpi_cell_guid_flm_60.execution_id in ( '${param.execution_id}', '${param.previous_execution_id}' )"}
detrended_probability_array,cell_guid_flm,"FIRST(CASE WHEN kpi_cell_guid_flm_60.detrended_rolling_array IS NULL THEN kpi_cell_guid_flm_60.hourly_detrended_array ELSE (kpi_cell_guid_flm_60.detrended_rolling_array || kpi_cell_guid_flm_60.hourly_detrended_array) END, true) FROM kpi_db://kpi_cell_guid_flm_60",FLOAT[],FIRST,60,,{kpi_cell_guid_flm_60.fdn,kpi_cell_guid_flm_60.oss_id,kpi_cell_guid_flm_60.guid,kpi_cell_guid_flm_60.execution_id},false,{"kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.execution_id}'"}
detrended_probability_array_daily,cell_sector_flm,FIRST(kpi_cell_guid_flm_60.detrended_probability_array) FROM kpi_db://kpi_cell_guid_flm_60 JOIN kpi_db://kpi_cell_sector_flm_1440 ON kpi_cell_guid_flm_60.fdn = kpi_cell_sector_flm_1440.cell_fdn AND kpi_cell_guid_flm_60.oss_id = kpi_cell_sector_flm_1440.cell_oss_id and kpi_cell_guid_flm_60.local_timestamp = kpi_cell_sector_flm_1440.execution_sector_busy_hour,FLOAT[],FIRST,1440,,{kpi_cell_sector_flm_1440.cell_fdn,kpi_cell_sector_flm_1440.cell_oss_id,kpi_cell_sector_flm_1440.cell_id,kpi_cell_sector_flm_1440.sector_id,kpi_cell_sector_flm_1440.execution_id},false,{"kpi_db://kpi_cell_guid_flm_60.execution_id = '${param.execution_id}'","kpi_db://kpi_cell_sector_flm_1440.execution_id = '${param.execution_id}'"}
num_samp_trans_calc,cell_sector_flm,FIRST(CASE WHEN cell_sector_flm.detrended_probability_array_daily IS NULL THEN NULL ELSE cardinality(cell_sector_flm.detrended_probability_array_daily) END) FROM kpi://cell_sector_flm,INTEGER,FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},true,{}
detrended_probability_lower,cell_sector_flm,"FIRST(slice(sort_array(cell_sector_flm.detrended_probability_array_daily), 1, floor((cell_sector_flm.num_samp_trans_calc + 1) * 0.5))) FROM kpi://cell_sector_flm",FLOAT[],FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},false,{}
detrended_probability_upper,cell_sector_flm,"FIRST(slice(sort_array(cell_sector_flm.detrended_probability_array_daily), ceil((cell_sector_flm.num_samp_trans_calc + 1 ) * 0.5), floor((cell_sector_flm.num_samp_trans_calc + 1 ) * 0.5))) FROM kpi://cell_sector_flm",FLOAT[],FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},false,{}
detrended_probability_lower_median,cell_sector_flm,FIRST(MEDIAN_OF_DOUBLES(cell_sector_flm.detrended_probability_lower)) FROM kpi://cell_sector_flm,FLOAT,FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},false,{}
detrended_probability_upper_median,cell_sector_flm,FIRST(MEDIAN_OF_DOUBLES(cell_sector_flm.detrended_probability_upper)) FROM kpi://cell_sector_flm,FLOAT,FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},false,{}
detrended_probability_lower_mad,cell_sector_flm,"FIRST(MEDIAN_OF_DOUBLES(sort_array(TRANSFORM(cell_sector_flm.detrended_probability_lower, x -> abs(x - cell_sector_flm.detrended_probability_lower_median))))) FROM kpi://cell_sector_flm",FLOAT,FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},false,{}
detrended_probability_upper_mad,cell_sector_flm,"FIRST(MEDIAN_OF_DOUBLES(sort_array(TRANSFORM(cell_sector_flm.detrended_probability_upper, x -> abs(x - cell_sector_flm.detrended_probability_upper_median))))) FROM kpi://cell_sector_flm",FLOAT,FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},false,{}
cell_execution_sector_busy_hour,cell_guid_flm,FIRST(kpi_cell_sector_flm_1440.execution_sector_busy_hour) FROM kpi_db://kpi_cell_sector_flm_1440,TIMESTAMP,FIRST,1440,,{"kpi_cell_sector_flm_1440.cell_fdn AS fdn","kpi_cell_sector_flm_1440.cell_oss_id AS oss_id","kpi_cell_sector_flm_1440.cell_id as guid",kpi_cell_sector_flm_1440.execution_id},false,{"kpi_db://kpi_cell_sector_flm_1440.execution_id = '${param.execution_id}'"}
min_num_samp_trans_calc,cell_guid_flm,FIRST(cell_configuration.min_num_samples_for_transient_calculation) FROM flm://cell_configuration,FLOAT,FIRST,1440,,{"cell_configuration.id AS guid",cell_configuration.fdn,cell_configuration.oss_id,cell_configuration.execution_id},false,{"flm://cell_configuration.execution_id = '${param.execution_id}'"}
sigma_for_transient,cell_guid_flm,FIRST(cell_configuration.sigma_for_transient_calculation) FROM flm://cell_configuration,FLOAT,FIRST,1440,,{"cell_configuration.id AS guid",cell_configuration.fdn,cell_configuration.oss_id,cell_configuration.execution_id},false,{"flm://cell_configuration.execution_id = '${param.execution_id}'"}
alternate_sigma,cell_sector_flm,FIRST(( (cell_sector_flm.num_samp_trans_calc) * (kpi_cell_guid_flm_1440.sigma_for_transient) + 6.0)) / FIRST(cell_sector_flm.num_samp_trans_calc) FROM kpi_db://kpi_cell_guid_flm_1440 JOIN kpi://cell_sector_flm ON kpi_cell_guid_flm_1440.guid = cell_sector_flm.cell_id AND kpi_cell_guid_flm_1440.fdn = cell_sector_flm.cell_fdn AND kpi_cell_guid_flm_1440.oss_id = cell_sector_flm.cell_oss_id,FLOAT,FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},false,{"kpi_db://kpi_cell_guid_flm_1440.execution_id = '${param.execution_id}'"}
final_sigma,cell_sector_flm,FIRST(CASE WHEN cell_sector_flm.num_samp_trans_calc IS NULL THEN NULL WHEN cell_sector_flm.num_samp_trans_calc >= kpi_cell_guid_flm_1440.min_num_samp_trans_calc THEN kpi_cell_guid_flm_1440.sigma_for_transient ELSE cell_sector_flm.alternate_sigma END) FROM kpi_db://kpi_cell_guid_flm_1440 JOIN kpi://cell_sector_flm ON kpi_cell_guid_flm_1440.guid = cell_sector_flm.cell_id AND kpi_cell_guid_flm_1440.fdn = cell_sector_flm.cell_fdn AND kpi_cell_guid_flm_1440.oss_id = cell_sector_flm.cell_oss_id,FLOAT,FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},false,{"kpi_db://kpi_cell_guid_flm_1440.execution_id = '${param.execution_id}'"}
lower_threshold_for_transient,cell_sector_flm,FIRST(cell_sector_flm.detrended_probability_lower_median - cell_sector_flm.final_sigma * cell_sector_flm.detrended_probability_lower_mad) FROM kpi://cell_sector_flm,FLOAT,FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},true,{}
upper_threshold_for_transient,cell_sector_flm,FIRST(cell_sector_flm.detrended_probability_upper_median + cell_sector_flm.final_sigma * cell_sector_flm.detrended_probability_upper_mad) FROM kpi://cell_sector_flm,FLOAT,FIRST,1440,,{cell_sector_flm.cell_fdn,cell_sector_flm.cell_oss_id,cell_sector_flm.cell_id,cell_sector_flm.sector_id,cell_sector_flm.execution_id},true,{}
cell_handover_success_rate_hourly_rss,cell_guid,"FIRST(ADD_DOUBLE_TO_ARRAY_WITH_LIMIT(cell_guid.cell_handover_success_rate_hourly_rss, kpi_cell_guid_60.cell_handover_success_rate_hourly, 8)) FROM kpi_db://kpi_cell_guid_60 LEFT JOIN kpi_db://kpi_cell_guid_60 as cell_guid ON kpi_cell_guid_60.guid = cell_guid.guid AND kpi_cell_guid_60.oss_id = cell_guid.oss_id AND kpi_cell_guid_60.fdn = cell_guid.fdn AND cell_guid.local_timestamp = (kpi_cell_guid_60.local_timestamp - interval 1 day) WHERE kpi_cell_guid_60.cell_handover_success_rate_hourly_rss IS NULL",FLOAT[8],FIRST,60,0 30 0/1 * * ? *,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn},false,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN (date_trunc('hour', TO_TIMESTAMP('${param.start_date_time}')) - interval 1 day) and date_trunc('hour', TO_TIMESTAMP('${param.end_date_time}'))"}
initial_and_added_e_rab_establishment_sr_hourly_rss,cell_guid,"FIRST(ADD_DOUBLE_TO_ARRAY_WITH_LIMIT(cell_guid.initial_and_added_e_rab_establishment_sr_hourly_rss, kpi_cell_guid_60.initial_and_added_e_rab_establishment_sr_hourly, 8)) FROM kpi_db://kpi_cell_guid_60 LEFT JOIN kpi_db://kpi_cell_guid_60 as cell_guid ON kpi_cell_guid_60.guid = cell_guid.guid AND kpi_cell_guid_60.oss_id = cell_guid.oss_id AND kpi_cell_guid_60.fdn = cell_guid.fdn AND cell_guid.local_timestamp = (kpi_cell_guid_60.local_timestamp - interval 1 day) WHERE kpi_cell_guid_60.initial_and_added_e_rab_establishment_sr_hourly_rss IS NULL",FLOAT[8],FIRST,60,0 30 0/1 * * ? *,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn},false,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN (date_trunc('hour', TO_TIMESTAMP('${param.start_date_time}')) - interval 1 day) and date_trunc('hour', TO_TIMESTAMP('${param.end_date_time}'))"}
initial_and_added_e_rab_establishment_sr_qci1_hourly_rss,cell_guid,"FIRST(ADD_DOUBLE_TO_ARRAY_WITH_LIMIT(cell_guid.initial_and_added_e_rab_establishment_sr_qci1_hourly_rss, kpi_cell_guid_60.initial_and_added_e_rab_establishment_sr_for_qci1_hourly, 8)) FROM kpi_db://kpi_cell_guid_60 LEFT JOIN kpi_db://kpi_cell_guid_60 as cell_guid ON kpi_cell_guid_60.guid = cell_guid.guid AND kpi_cell_guid_60.oss_id = cell_guid.oss_id AND kpi_cell_guid_60.fdn = cell_guid.fdn AND cell_guid.local_timestamp = (kpi_cell_guid_60.local_timestamp - interval 1 day) WHERE kpi_cell_guid_60.initial_and_added_e_rab_establishment_sr_qci1_hourly_rss IS NULL",FLOAT[8],FIRST,60,0 30 0/1 * * ? *,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn},false,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN (date_trunc('hour', TO_TIMESTAMP('${param.start_date_time}')) - interval 1 day) and date_trunc('hour', TO_TIMESTAMP('${param.end_date_time}'))"}
e_rab_retainability_percentage_lost_hourly_rss,cell_guid,"FIRST(ADD_DOUBLE_TO_ARRAY_WITH_LIMIT(cell_guid.e_rab_retainability_percentage_lost_hourly_rss, kpi_cell_guid_60.e_rab_retainability_percentage_lost_hourly, 8)) FROM kpi_db://kpi_cell_guid_60 LEFT JOIN kpi_db://kpi_cell_guid_60 as cell_guid ON kpi_cell_guid_60.guid = cell_guid.guid AND kpi_cell_guid_60.oss_id = cell_guid.oss_id AND kpi_cell_guid_60.fdn = cell_guid.fdn AND cell_guid.local_timestamp = (kpi_cell_guid_60.local_timestamp - interval 1 day) WHERE kpi_cell_guid_60.e_rab_retainability_percentage_lost_hourly_rss IS NULL",FLOAT[8],FIRST,60,0 30 0/1 * * ? *,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn},false,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN (date_trunc('hour', TO_TIMESTAMP('${param.start_date_time}')) - interval 1 day) and date_trunc('hour', TO_TIMESTAMP('${param.end_date_time}'))"}
e_rab_retainability_percentage_lost_qci1_hourly_rss,cell_guid,"FIRST(ADD_DOUBLE_TO_ARRAY_WITH_LIMIT(cell_guid.e_rab_retainability_percentage_lost_qci1_hourly_rss, kpi_cell_guid_60.e_rab_retainability_percentage_lost_qci1_hourly, 8)) FROM kpi_db://kpi_cell_guid_60 LEFT JOIN kpi_db://kpi_cell_guid_60 as cell_guid ON kpi_cell_guid_60.guid = cell_guid.guid AND kpi_cell_guid_60.oss_id = cell_guid.oss_id AND kpi_cell_guid_60.fdn = cell_guid.fdn AND cell_guid.local_timestamp = (kpi_cell_guid_60.local_timestamp - interval 1 day) WHERE kpi_cell_guid_60.e_rab_retainability_percentage_lost_qci1_hourly_rss IS NULL",FLOAT[8],FIRST,60,0 30 0/1 * * ? *,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn},false,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN (date_trunc('hour', TO_TIMESTAMP('${param.start_date_time}')) - interval 1 day) and date_trunc('hour', TO_TIMESTAMP('${param.end_date_time}'))"}
avg_ul_pdcp_throughput_sector_rss,sector,"FIRST(ADD_DOUBLE_TO_ARRAY_WITH_LIMIT(sector.avg_ul_pdcp_throughput_sector_rss, kpi_sector_60.avg_ul_pdcp_throughput_sector, 8)) FROM kpi_db://kpi_sector_60 LEFT JOIN kpi_db://kpi_sector_60 as sector ON kpi_sector_60.sector_id = sector.sector_id AND sector.local_timestamp = (kpi_sector_60.local_timestamp - interval 1 day) WHERE kpi_sector_60.avg_ul_pdcp_throughput_sector_rss IS NULL",FLOAT[8],FIRST,60,0 30 0/1 * * ? *,{kpi_sector_60.sector_id},false,{"kpi_db://kpi_sector_60.utc_timestamp BETWEEN (date_trunc('hour', TO_TIMESTAMP('${param.start_date_time}')) - interval 1 day) and date_trunc('hour', TO_TIMESTAMP('${param.end_date_time}'))"}
avg_dl_pdcp_throughput_sector_rss,sector,"FIRST(ADD_DOUBLE_TO_ARRAY_WITH_LIMIT(sector.avg_dl_pdcp_throughput_sector_rss, kpi_sector_60.avg_dl_pdcp_throughput_sector, 8)) FROM kpi_db://kpi_sector_60 LEFT JOIN kpi_db://kpi_sector_60 as sector ON kpi_sector_60.sector_id = sector.sector_id AND sector.local_timestamp = (kpi_sector_60.local_timestamp - interval 1 day) WHERE kpi_sector_60.avg_dl_pdcp_throughput_sector_rss IS NULL",FLOAT[8],FIRST,60,0 30 0/1 * * ? *,{kpi_sector_60.sector_id},false,{"kpi_db://kpi_sector_60.utc_timestamp BETWEEN (date_trunc('hour', TO_TIMESTAMP('${param.start_date_time}')) - interval 1 day) and date_trunc('hour', TO_TIMESTAMP('${param.end_date_time}'))"}
cell_handover_success_rate_degradation,cell_guid_flm,"FIRST(DEGRADATION_THRESHOLD('MAX', 0, kpi_cell_guid_60.cell_handover_success_rate_hourly_rss, '${param.cell_handover_success_rate_confidence_interval}', '${param.weekend_days}', date_trunc('day', kpi_cell_guid_60.local_timestamp), 8, true)) FROM kpi_db://kpi_cell_guid_60 JOIN flm://cell_configuration_history ON cell_configuration_history.fdn = kpi_cell_guid_60.fdn AND cell_configuration_history.oss_id = kpi_cell_guid_60.oss_id",FLOAT,FIRST,60,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn,cell_configuration_history.execution_id},true,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN TO_TIMESTAMP('${param.start_timestamp}') AND TO_TIMESTAMP('${param.end_timestamp}')","flm://cell_configuration_history.execution_id = '${param.execution_id}'"}
initial_and_added_e_rab_estab_sr_degradation,cell_guid_flm,"FIRST(DEGRADATION_THRESHOLD('MAX', 0, kpi_cell_guid_60.initial_and_added_e_rab_establishment_sr_hourly_rss, '${param.initial_and_added_e_rab_estab_sr_hourly_confidence_interval}', '${param.weekend_days}', date_trunc('day', kpi_cell_guid_60.local_timestamp), 8, true)) FROM kpi_db://kpi_cell_guid_60 JOIN flm://cell_configuration_history ON cell_configuration_history.fdn = kpi_cell_guid_60.fdn AND cell_configuration_history.oss_id = kpi_cell_guid_60.oss_id",FLOAT,FIRST,60,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn,cell_configuration_history.execution_id},true,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN TO_TIMESTAMP('${param.start_timestamp}') AND TO_TIMESTAMP('${param.end_timestamp}')","flm://cell_configuration_history.execution_id = '${param.execution_id}'"}
initial_and_added_e_rab_estab_sr_qci1_degradation,cell_guid_flm,"FIRST(DEGRADATION_THRESHOLD('MAX', 0, kpi_cell_guid_60.initial_and_added_e_rab_establishment_sr_qci1_hourly_rss, '${param.initial_and_added_e_rab_estab_sr_qci1_hourly_confidence_interval}', '${param.weekend_days}', date_trunc('day', kpi_cell_guid_60.local_timestamp), 8, true)) FROM kpi_db://kpi_cell_guid_60 JOIN flm://cell_configuration_history ON cell_configuration_history.fdn = kpi_cell_guid_60.fdn AND cell_configuration_history.oss_id = kpi_cell_guid_60.oss_id",FLOAT,FIRST,60,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn,cell_configuration_history.execution_id},true,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN TO_TIMESTAMP('${param.start_timestamp}') AND TO_TIMESTAMP('${param.end_timestamp}')","flm://cell_configuration_history.execution_id = '${param.execution_id}'"}
e_rab_retainability_percentage_lost_degradation,cell_guid_flm,"FIRST(DEGRADATION_THRESHOLD('MIN', 100, kpi_cell_guid_60.e_rab_retainability_percentage_lost_hourly_rss, '${param.e_rab_retainability_percentage_lost_hourly_confidence_interval}', '${param.weekend_days}', date_trunc('day', kpi_cell_guid_60.local_timestamp), 8, false)) FROM kpi_db://kpi_cell_guid_60 JOIN flm://cell_configuration_history ON cell_configuration_history.fdn = kpi_cell_guid_60.fdn AND cell_configuration_history.oss_id = kpi_cell_guid_60.oss_id",FLOAT,FIRST,60,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn,cell_configuration_history.execution_id},true,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN TO_TIMESTAMP('${param.start_timestamp}') AND TO_TIMESTAMP('${param.end_timestamp}')","flm://cell_configuration_history.execution_id = '${param.execution_id}'"}
e_rab_retainability_percentage_lost_qci1_degradation,cell_guid_flm,"FIRST(DEGRADATION_THRESHOLD('MIN', 100, kpi_cell_guid_60.e_rab_retainability_percentage_lost_qci1_hourly_rss, '${param.e_rab_retainability_percentage_lost_qci1_hourly_confidence_interval}', '${param.weekend_days}', date_trunc('day', kpi_cell_guid_60.local_timestamp), 8, false)) FROM kpi_db://kpi_cell_guid_60 JOIN flm://cell_configuration_history ON cell_configuration_history.fdn = kpi_cell_guid_60.fdn AND cell_configuration_history.oss_id = kpi_cell_guid_60.oss_id",FLOAT,FIRST,60,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn,cell_configuration_history.execution_id},true,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN TO_TIMESTAMP('${param.start_timestamp}') AND TO_TIMESTAMP('${param.end_timestamp}')","flm://cell_configuration_history.execution_id = '${param.execution_id}'"}
avg_dl_pdcp_throughput_sector_interim_degradation,cell_sector_flm,FIRST(cell_guid_flm.e_rab_retainability_percentage_lost_qci1_degradation) FROM kpi://cell_guid_flm JOIN cm://cell_sector ON cell_guid_flm.guid = cell_sector.cell_id,FLOAT,FIRST,60,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_oss_id,cell_sector.cell_fdn,cell_guid_flm.execution_id},false,{}
avg_ul_pdcp_throughput_sector_interim_degradation,cell_sector_flm,FIRST(cell_guid_flm.e_rab_retainability_percentage_lost_qci1_degradation) FROM kpi://cell_guid_flm JOIN cm://cell_sector ON cell_guid_flm.guid = cell_sector.cell_id,FLOAT,FIRST,60,,{cell_sector.cell_id,cell_sector.sector_id,cell_sector.cell_oss_id,cell_sector.cell_fdn,cell_guid_flm.execution_id},false,{}
num_calls_cell_hourly,cell_guid,SUM(counters_cell.pmErabEstabSuccInit) FROM pm_stats://counters_cell,INTEGER,SUM,60,0 0/15 * * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
avg_ul_pdcp_throughput_sector_degradation,sector_flm,"CALCULATE_AFTER_FLOAT(FIRST(cell_sector_flm.avg_ul_pdcp_throughput_sector_interim_degradation)) + FIRST(DEGRADATION_THRESHOLD('MAX', 0, kpi_sector_60.avg_ul_pdcp_throughput_sector_rss, '${param.avg_ul_pdcp_throughput_sector_confidence_interval}', '${param.weekend_days}', date_trunc('day', kpi_sector_60.local_timestamp), 8, true)) FROM kpi_db://kpi_sector_60 JOIN kpi://cell_sector_flm ON cell_sector_flm.sector_id = kpi_sector_60.sector_id",FLOAT,FIRST,60,,{kpi_sector_60.sector_id,cell_sector_flm.execution_id},true,{"kpi_db://kpi_sector_60.utc_timestamp BETWEEN TO_TIMESTAMP('${param.start_timestamp}') AND TO_TIMESTAMP('${param.end_timestamp}')"}
avg_dl_pdcp_throughput_sector_degradation,sector_flm,"CALCULATE_AFTER_FLOAT(FIRST(cell_sector_flm.avg_dl_pdcp_throughput_sector_interim_degradation)) + FIRST(DEGRADATION_THRESHOLD('MAX', 0, kpi_sector_60.avg_dl_pdcp_throughput_sector_rss, '${param.avg_dl_pdcp_throughput_sector_confidence_interval}', '${param.weekend_days}', date_trunc('day', kpi_sector_60.local_timestamp), 8, true)) FROM kpi_db://kpi_sector_60 JOIN kpi://cell_sector_flm ON cell_sector_flm.sector_id = kpi_sector_60.sector_id",FLOAT,FIRST,60,,{kpi_sector_60.sector_id,cell_sector_flm.execution_id},true,{"kpi_db://kpi_sector_60.utc_timestamp BETWEEN TO_TIMESTAMP('${param.start_timestamp}') AND TO_TIMESTAMP('${param.end_timestamp}')"}
num_samples_rsrp_ta_hourly,cell_guid,ARRAY_INDEX_SUM(synthetic_counters_cell.ctrNumSamplesRsrpTa) FROM pm_events://synthetic_counters_cell,INTEGER[129],ARRAY_INDEX_SUM,60,0 30 0/1 * * ? *,{synthetic_counters_cell.guid,synthetic_counters_cell.fdn,synthetic_counters_cell.oss_id},false,{}
num_samples_rsrp_ta_q1,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_rsrp_ta_hourly, true), FIRST(0), FIRST(cell_guid.bin_q1, true), FIRST(1)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_samples_rsrp_ta_q2,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_rsrp_ta_hourly, true), FIRST(cell_guid.bin_q1, true), FIRST(cell_guid.bin_q2, true), FIRST(2)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_samples_rsrp_ta_q3,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_rsrp_ta_hourly, true), FIRST(cell_guid.bin_q2, true), FIRST(cell_guid.bin_q3, true), FIRST(3)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_samples_rsrp_ta_q4,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_rsrp_ta_hourly, true), FIRST(cell_guid.bin_q3, true), FIRST(cell_guid.bin_q4, true), FIRST(4)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_samples_bad_rsrp_ta_hourly,cell_guid,ARRAY_INDEX_SUM(synthetic_counters_cell.ctrNumSamplesBadRsrpTa) FROM pm_events://synthetic_counters_cell,INTEGER[129],ARRAY_INDEX_SUM,60,0 30 0/1 * * ? *,{synthetic_counters_cell.guid,synthetic_counters_cell.fdn,synthetic_counters_cell.oss_id},false,{}
num_bad_samples_rsrp_ta_q1,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_bad_rsrp_ta_hourly, true), FIRST(0), FIRST(cell_guid.bin_q1, true), FIRST(1)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_bad_samples_rsrp_ta_q2,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_bad_rsrp_ta_hourly, true), FIRST(cell_guid.bin_q1, true), FIRST(cell_guid.bin_q2, true), FIRST(2)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_bad_samples_rsrp_ta_q3,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_bad_rsrp_ta_hourly, true), FIRST(cell_guid.bin_q2, true), FIRST(cell_guid.bin_q3, true), FIRST(3)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
num_bad_samples_rsrp_ta_q4,cell_guid,"SUM_ARRAY_SAMPLES_PRECISION(FIRST(cell_guid.num_samples_bad_rsrp_ta_hourly, true), FIRST(cell_guid.bin_q3, true), FIRST(cell_guid.bin_q4, true), FIRST(4)) FROM kpi://cell_guid",INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
bad_rsrp_percentage_q1,cell_guid,"FIRST(100) * FIRST(cell_guid.num_bad_samples_rsrp_ta_q1, true) / FIRST(cell_guid.num_samples_rsrp_ta_q1, true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
bad_rsrp_percentage_q2,cell_guid,"FIRST(100) * FIRST(cell_guid.num_bad_samples_rsrp_ta_q2, true) / FIRST(cell_guid.num_samples_rsrp_ta_q2, true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
bad_rsrp_percentage_q3,cell_guid,"FIRST(100) * FIRST(cell_guid.num_bad_samples_rsrp_ta_q3, true) / FIRST(cell_guid.num_samples_rsrp_ta_q3, true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
bad_rsrp_percentage_q4,cell_guid,"FIRST(100) * FIRST(cell_guid.num_bad_samples_rsrp_ta_q4, true) / FIRST(cell_guid.num_samples_rsrp_ta_q4, true) FROM kpi://cell_guid",FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.fdn,cell_guid.oss_id},true,{}
ul_pusch_sinr_hourly_numerator,cell_guid,SUM(counters_cell.pmSinrPuschDistr[0] * -5) + SUM(counters_cell.pmSinrPuschDistr[1] * -3.5) + SUM(counters_cell.pmSinrPuschDistr[2] * 0) + SUM(counters_cell.pmSinrPuschDistr[3] * 4) + SUM(counters_cell.pmSinrPuschDistr[4] * 8) + SUM(counters_cell.pmSinrPuschDistr[5] * 12) + SUM(counters_cell.pmSinrPuschDistr[6] * 15.5) + SUM(counters_cell.pmSinrPuschDistr[7] * 17) + SUM(counters_cell.pmSinrPuschDistr[8] * 20) FROM pm_stats://counters_cell,FLOAT,FIRST,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
ul_pusch_sinr_hourly_denominator,cell_guid,SUM(counters_cell.pmSinrPuschDistr[0]) + SUM(counters_cell.pmSinrPuschDistr[1]) + SUM(counters_cell.pmSinrPuschDistr[2]) + SUM(counters_cell.pmSinrPuschDistr[3]) + SUM(counters_cell.pmSinrPuschDistr[4]) + SUM(counters_cell.pmSinrPuschDistr[5]) + SUM(counters_cell.pmSinrPuschDistr[6]) + SUM(counters_cell.pmSinrPuschDistr[7]) + SUM(counters_cell.pmSinrPuschDistr[8]) FROM pm_stats://counters_cell,FLOAT,FIRST,60,0 30 0/1 * * ? *,{counters_cell.guid,counters_cell.oss_id,counters_cell.fdn},false,{}
ul_pusch_sinr_hourly_interim,cell_guid,FIRST(cell_guid.ul_pusch_sinr_hourly_numerator) / FIRST(cell_guid.ul_pusch_sinr_hourly_denominator) FROM kpi://cell_guid,FLOAT,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},false,{}
ul_pusch_sinr_hourly,cell_guid,CAST(CEIL(FIRST(cell_guid.ul_pusch_sinr_hourly_interim)) as int) FROM kpi://cell_guid,INTEGER,FIRST,60,0 30 0/1 * * ? *,{cell_guid.guid,cell_guid.oss_id,cell_guid.fdn},true,{}
uplink_pusch_sinr_hourly_rss,cell_guid,"FIRST(ADD_INTEGER_TO_ARRAY_WITH_LIMIT(cell_guid.uplink_pusch_sinr_hourly_rss, kpi_cell_guid_60.ul_pusch_sinr_hourly, 8)) FROM kpi_db://kpi_cell_guid_60 LEFT JOIN kpi_db://kpi_cell_guid_60 as cell_guid ON kpi_cell_guid_60.guid = cell_guid.guid AND kpi_cell_guid_60.oss_id = cell_guid.oss_id AND kpi_cell_guid_60.fdn = cell_guid.fdn AND cell_guid.local_timestamp = (kpi_cell_guid_60.local_timestamp - interval 1 day) WHERE kpi_cell_guid_60.uplink_pusch_sinr_hourly_rss IS NULL",INTEGER[8],FIRST,60,0 30 0/1 * * ? *,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn},false,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN (date_trunc('hour', TO_TIMESTAMP('${param.start_date_time}')) - interval 1 day) and date_trunc('hour', TO_TIMESTAMP('${param.end_date_time}'))"}
uplink_pusch_sinr_degradation,cell_guid_flm,"FIRST(DEGRADATION_THRESHOLD('MAX', 0, kpi_cell_guid_60.uplink_pusch_sinr_hourly_rss, '${param.ul_pusch_sinr_hourly_confidence_interval}', '${param.weekend_days}', date_trunc('day', kpi_cell_guid_60.local_timestamp), 8, true)) FROM kpi_db://kpi_cell_guid_60 JOIN flm://cell_configuration_history ON cell_configuration_history.fdn = kpi_cell_guid_60.fdn AND cell_configuration_history.oss_id = kpi_cell_guid_60.oss_id",FLOAT,FIRST,60,,{kpi_cell_guid_60.guid,kpi_cell_guid_60.oss_id,kpi_cell_guid_60.fdn,cell_configuration_history.execution_id},true,{"kpi_db://kpi_cell_guid_60.utc_timestamp BETWEEN TO_TIMESTAMP('${param.start_timestamp}') AND TO_TIMESTAMP('${param.end_timestamp}')","flm://cell_configuration_history.execution_id = '${param.execution_id}'"}

